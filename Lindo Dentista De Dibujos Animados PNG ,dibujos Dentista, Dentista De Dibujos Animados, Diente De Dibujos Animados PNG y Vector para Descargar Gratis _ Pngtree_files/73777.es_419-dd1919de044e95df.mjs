"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[73777,23223,63374],{563463:(e,t,i)=>{var a,r,n,s;i.r(t),i.d(t,{default:()=>o});let l={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheckQuery_pin"}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"AlreadyPinnedCheckQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},s],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"c881f56582aebd78b7f3f625abfe959aa6d034bcd97439d6b4224d46c1c5f8cc",metadata:{},name:"AlreadyPinnedCheckQuery",operationKind:"query",text:null}};l.hash="bbb62c6d56086b286c3b53ed5e2cff4f";let o=l;!function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(l.default||l)},409510:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheckQuery_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};a.hash="6bb1a587f71f85424aa51845831862d4";let r=a},635654:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"AlreadyPinnedCheck_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="3caf9424c2af74d2b11a6ea682b57d1b";let r=a},494119:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null}],type:"Pin",abstractKey:null};a.hash="18c3db3fbed169f50cffd214f66ddd8e";let r=a},771589:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardCreateSuccess_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};a.hash="f12c153dafdb70970e02775ea0db67c2";let r=a},940220:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardPicker_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"Pin",abstractKey:null};a.hash="76215b7b40cb02e76b77e58c8765d0d1";let r=a},587679:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardsPane_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"BoardPicker_pin"}],type:"Pin",abstractKey:null};a.hash="56f620fbd63abf8f7cb32f9a378198f8";let r=a},27218:(e,t,i)=>{var a,r;i.r(t),i.d(t,{default:()=>s});let n=(r=[a={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null}],type:"AdvisoryAction",abstractKey:null});n.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let s=n},599673:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};a.hash="5879c4710b107f258f42156bf3e47e37";let r=a},730172:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};a.hash="4970946a36017d9ad0c751fd70cc512c";let r=a},799535:(e,t,i)=>{var a,r,n;i.r(t),i.d(t,{default:()=>l});let s=(r=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],n=[a],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[a,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});s.hash="53d7eec34666980eda011429185b5b10";let l=s},103268:(e,t,i)=>{var a,r,n,s,l;i.r(t),i.d(t,{default:()=>d});let o=(a={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},l=[{alias:null,args:null,kind:"ScalarField",name:"boardId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"localPinId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionId",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinBetterSave_pin",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},r,a,n,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[r,a,n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},s,{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsLeadAd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"},{args:null,kind:"FragmentSpread",name:"PinSaveRequestRepinWithSectionSuggestions_pin"},{args:null,kind:"FragmentSpread",name:"PinToBoard_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedInfo",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"savedCutout",plural:!1,selections:l,storageKey:null},{alias:null,args:null,concreteType:"SaveTarget",kind:"LinkedField",name:"selectedItem",plural:!1,selections:l,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null});o.hash="00592a87c0eef346f4bdfb1d6ca06595";let d=o},484728:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinBetterSave_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinSaveRequestRepinWithSectionSuggestions_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"PinToBoard_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};a.hash="2fd12704316ce3077575f9a0d9e31e84";let r=a},194117:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"AlreadyPinnedCheck_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null}]}],type:"Pin",abstractKey:null};a.hash="d928a4e793c8e81567357b1faa71d2e3";let r=a},869717:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinPane_shuffle_asset",selections:[{alias:null,args:[{kind:"Literal",name:"spec",value:"originals"}],concreteType:"ImageDetails",kind:"LinkedField",name:"cutoutImages",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'cutoutImages(spec:"originals")'}],type:"ShuffleAsset",abstractKey:null};a.hash="1a4583782792fbfe92015cb2dbe50f70";let r=a},397566:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequestRepinWithSectionSuggestions_pin",selections:[{args:null,kind:"FragmentSpread",name:"PinSaveRequest_pin"}],type:"Pin",abstractKey:null};a.hash="03aa6b9cad1d5fb9b12a7c896ccdaffd";let r=a},32145:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequestRepinWithSectionSuggestions_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinSaveRequest_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};a.hash="6bd1eb83cfe5391288164b17cc5d85b7";let r=a},216232:(e,t,i)=>{var a;i.r(t),i.d(t,{default:()=>n});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_pin",selections:[{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageBase64",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"mediaUploadId",storageKey:null}]}],type:"Pin",abstractKey:null};r.hash="bfa270bf437ef1e9195cafe07b0b3631";let n=r},380718:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinSaveRequest_shuffle_asset",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],type:"ShuffleAsset",abstractKey:null};a.hash="58c24e25a76e7a1c4533f3b07f490517";let r=a},600483:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_pin",selections:[{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{args:null,kind:"FragmentSpread",name:"PinPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardsPane_pin"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_pin"}],type:"Pin",abstractKey:null};a.hash="616d5be8fea6092b51f23b548a1a5dca";let r=a},947793:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinToBoard_shuffle_asset",selections:[{args:null,kind:"FragmentSpread",name:"PinPane_shuffle_asset"},{args:null,kind:"FragmentSpread",name:"BoardCreateSuccess_shuffle_asset"}],type:"ShuffleAsset",abstractKey:null};a.hash="4435ca5e135b834ea8a6425f68eb2f7a";let r=a},583808:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SensitiveContentNotice_sensitivity",selections:[{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{args:null,kind:"FragmentSpread",name:"DefaultNotice_advisoryNotice"},{args:null,kind:"FragmentSpread",name:"LegoNotice_advisoryNotice"}],storageKey:null}],type:"Sensitivity",abstractKey:null};a.hash="d12a0ef89312e2429f28a098a2536c8a";let r=a},370328:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notice",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};a.hash="60b34c5155a65923d7ad00e3467d9879";let r=a},812696:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(883119),r=i(876594),n=i(730212),s=i(785893);function l({accessibilityLabel:e,isSaved:t,onClick:i,showBoardFlyout:l,title:o,url:d}){let{isRTL:c}=(0,n.B)(),u=`0px ${r.Ev2} ${r.Ev2} 0px`,h=`${r.Ev2} 0px 0px ${r.Ev2}`,_=(e=>{if(e)return function({event:t}){e(t)}})(i),p=(0,s.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{borderRadius:c?u:h,margin:c?"0px 0px 0px 1px":"0px 1px 0px 0px"}},minWidth:60,paddingX:3,children:(0,s.jsx)(a.kC,{alignItems:"center",height:48,justifyContent:"center",children:(0,s.jsx)(a.xv,{lineClamp:1,overflow:"breakAll",size:"100",weight:"bold",children:o})})}),g=(0,s.jsx)(a.xu,{color:l?"dark":"secondary",dangerouslySetInlineStyle:{__style:{borderRadius:c?h:u}},children:(0,s.jsx)(a.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,s.jsx)(a.JO,{accessibilityLabel:e,color:l?"light":"dark",icon:"arrow-down",size:20})})});return(0,s.jsxs)(a.xu,{display:"flex",justifyContent:"end",paddingX:2,children:[(0,s.jsx)(a.xu,{children:t&&d?(0,s.jsx)(a.Tg,{fullWidth:!0,href:d,rounding:4,children:p}):(0,s.jsx)(a.iP,{accessibilityLabel:e,fullWidth:!0,onTap:_,rounding:4,children:p})}),(0,s.jsx)(a.xu,{children:(0,s.jsx)(a.iP,{onTap:_,rounding:4,children:g})})]})}},642032:(e,t,i)=>{i.d(t,{Z:()=>s,m:()=>n});var a=i(755884),r=i(983542);let n=["female","male","unknown"],s=e=>{let{interests:t,ages:i,genders:s,country:l}=e;return{AGE_BUCKET:i||[],APPTYPE:a.jz,GENDER:s||n,INTEREST:(t||[]).map(e=>e.topic_id),LOCATION:[...new Set((l||r.UF).split("+"))]}}},570686:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(635258),r=i(503237);function n(e,t){let i="";if(e&&(i=e,t)){let n=(0,r.Z)(e,!0),s="/advertiser/",{hostname:l}=n;(null===l||l===a.KUo)&&(e.startsWith(a.auO)&&(e=e.replace(a.auO,"")),i=e.startsWith(s)?e:s+t+e)}return i}},771385:(e,t,i)=>{i.d(t,{Cd:()=>m,G:()=>S,IA:()=>j,M5:()=>w,ML:()=>u,Oh:()=>v,Pe:()=>c,Tv:()=>p,Uy:()=>h,Xf:()=>f,cO:()=>b,ew:()=>_,nN:()=>y,p9:()=>x,yo:()=>g});var a=i(824002),r=i(112274),n=i(642298),s=i(814293),l=i(240760),o=i(734325),d=i(415787);let c=e=>e.bt("Asegúrate de que esta edad sea correcta. Se necesita tu fecha de nacimiento para la personalización y la seguridad de la comunidad, y como parte de nuestras Condiciones de servicio. Para las cuentas para empresa, usa tu propia fecha de nacimiento.", "Make sure this age is accurate. Your birthdate is required for personalization, community safety and as part of our terms of service. For business accounts, use your own birthdate.", "birthdateConfirmation.HelperText", undefined, true),u=e=>e.bt("Usa tu fecha de nacimiento, incluso si esta es una cuenta para empresa", "Use your own birthday, even if this a business account", "birthdateConfirmation.HelperText.ownBirthday", undefined, true),h=e=>e.bt("¡Vaya! Usa una edad válida para registrarte.", "Oops! Please use a valid age to sign up.", "existingUser.birthdaycollection.error.overage", undefined, true),_=(e,t)=>{let{locale:i}=t.getLocaleData(),a=(0,s.Z)(e),r=a.toLocaleString(i,{month:"long"}),n=a.getDate().toString(),o=a.getFullYear();return(0,l.nk)(t.bt("¿Tu fecha de cumpleaños es el {{day}} de {{month}} de {{year}}?", "Is {{month}} {{day}}, {{year}} your birthday?", "birthdateConfirmation.heading", undefined, true),{month:r,day:n,year:o})},p=(e,t,i,a)=>{let r=(0,l.nk)(e.bt("¡Vaya! Ingresa un {{dayError}}{{monthError}}{{yearError}} válido para registrarte.", "Oops! Please enter a valid {{dayError}}{{monthError}}{{yearError}} to sign up.", "signup birthday error message", undefined, true),{dayError:t?e.bt("día", "day", "dayError keyword placeholder", undefined, true):"",monthError:i?e.bt("mes", "month", "monthError keyword placeholder", undefined, true):"",yearError:a?e.bt("año", "year", "monthError keyword placeholder", undefined, true):""}).filter(e=>0!==e.length);return 3===r.length?r.join(""):r[0]+r.slice(1,-1).join(", ")+r[r.length-1]},g=({country:e})=>e&&e in o.T3?o.T3[e]:o.Ur,m=(e,t)=>{let i=new Date,a=new Date(i.getFullYear()-t,i.getMonth(),i.getDate());return new Date(e)<=a},b=new Date().getFullYear(),y=new Date().getFullYear()-120,f=12,v=1,x=1,S=31,P="yyyy-MM-dd",w=e=>{let t=new Date,i=new Date(y,t.getMonth(),t.getDate()),a=m(e,5),r=new Date(e)>i;return a&&r};function j(e){let t=(0,a.Z)(e,P,new Date);if((0,r.Z)(t))return e;let i=new Date(e);try{return(0,n.Z)(i,P)}catch{return(0,d.nP)("webapp.birthday_validation_error",{sampleRate:1,tags:{birthdate:e}}),e}}},814293:(e,t,i)=>{i.d(t,{Z:()=>a});let a=e=>{let t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},382396:(e,t,i)=>{i.d(t,{Z:()=>a});let a=2},626964:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(410150),r=i(855746);function n(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"commerce-app-latest":case"pintergration":return 10;case"creators":case"create":return 11;case"newsroom":return 13;case"about":return 14;default:return"phone"===e||"tablet"===e?1:0}}({deviceType:(0,a.ZP)(),site:(0,r.uo)()})}},471620:(e,t,i)=>{i.d(t,{Z:()=>a});let a=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"…":e},838857:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(570686),r=i(635258);function n({advertiser:e,isAdsSite:t,isAnalyticsSite:i,isTrendsSite:n,baseUrl:s,adsUrl:l,isQuickPromote:o,isShoppingCatalogs:d}){if(t&&!e&&!o)return"/";let c=s;return(t||i||n)&&!d?(l||(l=s),e?(c=(0,a.Z)(l,e.id),t||(c=r.auO+c)):c=t?l:r.auO+c):d?c=r.auO+(0,a.Z)(s,e?e.id:""):l||(c=r.auO+s),c}},191851:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(667294);let r=null,n=!1,s=0,l=()=>{r&&clearTimeout(r),n=!0,r=setTimeout(()=>{n=!1},100)},o=()=>{0===s&&window.addEventListener("scroll",l),s+=1},d=()=>{(s-=1)||window.removeEventListener("scroll",l)},c=()=>{let[e,t]=(0,a.useState)(!1),i=(0,a.useRef)(null);(0,a.useEffect)(()=>(o(),()=>{i.current&&clearTimeout(i.current),d()}),[]);let r=e=>{i.current&&clearTimeout(i.current),i.current=e&&n?setTimeout(()=>r(!0),100):setTimeout(()=>{t(e)},32)};return{isHovering:e,hoverHandlers:(0,a.useRef)({onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1)}).current}}},265875:(e,t,i)=>{i.d(t,{Z:()=>r,u:()=>a});let a=/^(https?):\/\/([^\s\/?#."]+\.)+([^\s\/?#."]+)(\/[^\s?#]*)?(#[^\s]*)?(\?[^"]*)?$/,r=/^(?:https?:\/\/)?([^\s\/?#."]+\.)+([^\s\/?#."]+)(\/[^\s?#]*)?(\?[^"]*)?$/},26456:(e,t,i)=>{i.d(t,{Bh:()=>g,C9:()=>k,CB:()=>f,CU:()=>c,ES:()=>C,FU:()=>F,GT:()=>u,Gy:()=>w,J_:()=>E,Jx:()=>v,Ks:()=>L,MZ:()=>j,Pg:()=>S,U2:()=>Z,VC:()=>b,VG:()=>h,ZA:()=>_,Zt:()=>P,a3:()=>D,aH:()=>d,fS:()=>p,iN:()=>y,nw:()=>A,oR:()=>T,qA:()=>m,qp:()=>z,sG:()=>I,vd:()=>R,xk:()=>B});var a=i(771385),r=i(503237),n=i(265875),s=i(415787);let l={January:31,February:29,March:31,April:30,May:31,June:30,July:31,August:31,September:30,October:31,November:30,December:31},o=e=>{let t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},i=String(e).split("");return i.forEach((e,a)=>{let r=t[e];r&&(i[a]=r)}),i.join("")};function d(e){return(t,i)=>{let a=[];t&&/\S/.test(t)||a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}let c=RegExp("(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*|^\"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*\")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$","i");function u(e){return(t,i)=>{t=t&&t.trim();let a=[];t.match(c)||a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}function h(e){return(t,i)=>{t=t&&t.trim();let a=[];t.match(/^[^0-9].*$/)||a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}function _(e){return(t,i)=>{let a=[];if(t){let i=parseInt(t,10);Number.isNaN(i)?a.push(e.invalidAgeString):(e.ageTooShortString&&i<10&&a.push(e.ageTooShortString),i<=0||i>120?a.push(e.invalidAgeString):e.checkUnderAgeWithString&&i<18&&a.push(e.checkUnderAgeWithString))}let r={errors:a,warnings:[]};return i&&i(r),r}}function p(e){return(t,i)=>{let a=[],[r,n]=t.split(" ");if(r){if(r.match(/^[0-9]+$/)){let t=parseInt(r,10);(Number.isNaN(t)||t>31||t>l[n])&&a.push(e.invaliddobDateString)}else a.push(e.invaliddobDateString)}let s={errors:a,warnings:[]};return i&&i(s),s}}function g(e){return(t,i)=>{let a=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),r=[],n=!1!==e.checkLength&&a.length<7;t&&(!t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)||n)&&r.push(e.message);let s={errors:r,warnings:[]};return i&&i(s),s}}function m(e){return(t,i)=>{let a=[];"number"==typeof t||"string"==typeof t&&(t=o(t=t&&t.trim()))&&!t.match(/^\d+$/)&&a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}function b(e){return(t,i)=>{let a=[];"number"==typeof t||"string"==typeof t&&(t=o(t=t&&t.trim()))&&!t.match(/^[\d\ -]+$/)&&a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}let y={WEBSITE_LINK_BUTTON:"website_link_button",PIN_DRAFT_WEBSITE_LINK_BUTTON:"pin_draft_website_link_button",PIN_TAG_FLYOUT:"pin_tag_flyout",PIN_DRAFT_SEARCH_VIEW:"pin_draft_search_view"},f=(e,t,i="ui",a)=>{if((t&&t.checkExperiment("aid_exp_new_regex_validation_tracking_urls_unification").anyEnabled?n.Z:/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi).test(String(e)))return!0;let r=n.Z.test(String(e)),l=/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi.test(String(e));return(0,s.nP)("urlRegexValidation.ui.validator.failed_validation",{sampleRate:1,tags:{enabled:r,control:l,consumerSurface:i}}),a&&a({event_type:7472,aux_data:{matched_old_url_regex_validation:l,matched_new_url_regex_validation:r,url_param:e}}),!1};function v(e){return(t,i)=>{let a=[];t&&!f(t,e.experimentsClient,"ui",e.logContextEvent)&&a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}let x=e=>/^(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e);function S(e){return(t,i)=>{let a={errors:t&&!x(t)?[e.message]:[],warnings:[]};return i&&i(a),a}}function P(e){return(t,i)=>{let a=[];if(t)try{let i=(0,r.Z)(t);i&&i.protocol&&("http"!==i.protocol||"localhost"===i.hostname)||a.push(e.message)}catch(t){a.push(e.message)}let n={errors:a,warnings:[]};return i&&i(n),n}}function w(e){return(t,i)=>{let a=e.should_trim||!1,r=[];a&&(t=t&&t.trim());let n=t.length;"min"in e&&e.min>0&&n<e.min?r.push(e.minErrorString):"max"in e&&e.max>0&&n>e.max&&r.push(e.maxErrorString);let s={errors:r,warnings:[]};return i&&i(s),s}}function j(e){return(t,i)=>{let a=!e.checkExclusion,{substrings:r}=e,n=[];(a&&!r.some(e=>t.includes(e))||!a&&r.some(e=>t.includes(e)))&&n.push(e.message);let s={errors:n,warnings:[]};return i&&i(s),s}}function I(e){return(t,i)=>{let a=e&&e.targetValue,r=[];t!==a&&r.push(e.message);let n={errors:r,warnings:[]};return i&&i(n),n}}function A(e){return(t,i)=>{let a=[];(t?parseFloat(t):0)<e.value&&a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}function k(e){return(t,i)=>{let a=new Date(t),r=[];e.date instanceof Date&&a instanceof Date&&e.date<a&&r.push(e.message);let n={errors:r,warnings:[]};return i&&i(n),n}}function C(e){return(t,i)=>{let r=new Date(t),n=e.date instanceof Date&&r instanceof Date,s=[];(n&&e.date<r||!(0,a.M5)(t))&&s.push(e.message);let l={errors:s,warnings:[]};return i&&i(l),l}}function T(e){return(t,i)=>{let a=[];/^[\x20-\x7E]*$/.test(t)||a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}function B(e){return(t,i)=>{let a=2;if(e.hasFractionalCents)a=3;else if(e.currencyCode){let{maximumFractionDigits:t}=new Intl.NumberFormat(void 0,{style:"currency",currency:e.currencyCode}).resolvedOptions();a=t}let r=new RegExp(a?`^\\d*(\\.\\d{1,${a}})?$`:"^\\d*$"),n=[];t&&!t.match(r)&&(t=t&&t.trim(),n.push(e.message));let s={errors:n,warnings:[]};return i&&i(s),s}}function E(e){return(t,i)=>{t=t&&t.trim();let a=[],r=new Date(t);t&&!r.getTime()&&a.push(e.message);let n={errors:a,warnings:[]};return i&&i(n),n}}function z(e){return(t,i)=>{let a=t&&t.trim(),r=[];a&&!a.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&r.push(e.message);let n={errors:r,warnings:[]};return i&&i(n),n}}function R(e){return(t,i)=>{let a=[];e.pattern.test(t)||a.push(e.message);let r={errors:a,warnings:[]};return i&&i(r),r}}function F(e,t){return[].concat(...e.map(e=>e(t).errors))}async function L(e,t){return[].concat(...await Promise.all(e.map(async e=>{let i=e(t);return i instanceof Promise?(await i)(t).errors:i.errors})))}function D(e,t){let i="";return t.some(t=>{let a=t(e);return a.errors.length>0&&(i=a.errors[0],!0)}),i}async function Z(e,t){let i="";for(let a of t){let t=a(e);if(t instanceof Promise){let a=(await t)(e);if(a.errors.length>0){i=a.errors[0];break}}else if(t.errors.length>0){i=t.errors[0];break}}return i}},733423:(e,t,i)=>{i.d(t,{Z:()=>c,l:()=>d});var a=i(667294),r=i(730212),n=i(626964),s=i(62370),l=i(501912),o=i(700506);let d=(0,a.createContext)(void 0),c=function(){let{advertiser:e}=(0,r.B)(),t=function(){let{isSterlingSite:e}=(0,o.O9)((0,n.Z)());return(0,a.useContext)(d)??e}(),i=(0,l.Z)(),c=(s.K()?.profiles||[]).find(t=>t?.id===e?.owner_user_id);return t&&c||i}},700506:(e,t,i)=>{i.d(t,{uB:()=>p,re:()=>g,Xc:()=>y,NH:()=>b,Mz:()=>m,Mj:()=>k,LZ:()=>j,Lu:()=>w,es:()=>I,xV:()=>B,d5:()=>S,xQ:()=>x,O9:()=>f,bq:()=>E,HH:()=>z,Ti:()=>C,cG:()=>v,Hw:()=>A,HC:()=>T,$n:()=>R});var a=i(548466),r=i(642032),n=i(983542);let s=({values:e,pin:t,productGroup:i,country:a})=>{let{name:s,destination_url:l,budget:o,duration:d,inclusive_end_date:c,is_ongoing:u,advertiser_id:h,ages:_,interests:p,genders:g,ad_type:m,selected_ocpm_tag:b,isAutoTargeting:y}=e,f=Math.round(o*n.Az),v=(0,r.Z)({ages:_,interests:p,genders:g,country:a}),x={};m===n.Hl.WEB_CONVERSION&&(x.objective_type=n.Hl.WEB_CONVERSION,x.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:b.conversionTagId,conversion_event:b.conversionEvent}});let S={budget_in_micro_currency:f,campaign_name:s&&s.length<64?s:`${(s||"").substr(0,62)}…`,destination_url:t?l:null,duration:parseInt(d,10),auto_targeting_enabled:y,is_ongoing:u,start_now:!0,targeting_spec:v,advertiser_id:h,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:i?i.id:null,...x,flexible_daily_budget_enabled:!1};return!u&&c&&c.trim().length>0&&(S.inclusive_end_date=c),S};var l=i(729263),o=i(194093),d=i(400416),c=i(635258),u=i(868808),h=i(838857),_=i(415787);let p=472,g=364,m={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},b={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},y={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page",BIZ_HUB_TOP_CAROUSEL_SECTION:"biz_hub_top_carousel_section"},f=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e,isPlanningHub:12===e}),v=e=>{let{isAnalyticsSite:t=!1,isSterlingSite:i=!1,isWwwSite:a=!1,loggingType:r}=e,n="";t?n=".analytics":a?n=".www":i&&(n=".ads"),(0,_.nP)(`sterling.quick_promote.page${n}.${r}`,{sampleRate:1})},x=e=>e?n.vX.indexOf(e):-1,S=e=>{if(null!=e&&!(e<0)&&!(e>n.vX.length-1))return n.vX[e]},P=e=>e===n.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===n.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223},w=(e,t)=>{let{component:i,element:a}=P(S(e));t({event_type:101,component:i,element:a,aux_data:{page:"GestaltQuickPromote"}})},j=(e,t)=>{let i=S(e),{component:a}=P(i);i===n.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):i===n.Gl.SUCCESS_MODAL&&t({event_type:6358,component:a,aux_data:{page:"GestaltQuickPromote"}})},I=(e,t)=>{let i=[...new Set(e?.split("+"))];return t&&i.filter(e=>e in t)},A=(e,t)=>{if(!t||!e)return"";let i=`https://${c.KUo}`,a=`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`;return`${i}/advertiser/${e}/billing/${a}`},k=(e,t)=>{if(!e)return"";let{ad_group_id:i=""}=e,a=(0,l.default)("adgroup",t,{id:i,showAllEntities:!0});return(0,h.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:a,adsUrl:null,isQuickPromote:!0})},C=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),T=async e=>{let{pin:t,productGroup:i,country:a,onSaveSuccess:r,onSaveFailed:n,quickPromoteFormValues:l,advertiserId:c}=e;if(!t&&i)return;let u=`/ads/v4/advertisers/${c}/pins/${t?.id||""}/quick_promote/`;try{let{resource_response:e}=await (0,d.Z)({url:u,method:"POST",data:s({values:l,pin:t,productGroup:i,country:a})});e.data&&r(e.data)}catch(i){let e=(0,o.Z)(i,"httpStatus"),t=(0,o.Z)(i,"message_detail");n(t?{area:401===e?"pin":"modal",message:t}:{area:"modal"})}},B=e=>{let{hasValidBillingProfile:t,hasBusinessAddress:i,hasBillingInfo:a,hasBusinessInfo:r,serverErrorArea:s,stepIndex:l,isQuickPromotePage:o=!1}=e,{hasValidBusinessInfo:d,hasValidBillingInfo:c}=C({hasValidBillingProfile:t,hasBusinessAddress:i,hasBillingInfo:a,hasBusinessInfo:r}),u=[void 0,null].includes(l)?0:l+1;return S(l)!==n.hf||(s?u="modal"===s?x(n.Gl.ERROR_MODAL):l:d&&c?u=x(n.Gl.SUCCESS_MODAL):d?u=x(n.Gl.BILLING_FORM):o||(u=x(n.Gl.BUSINESS_FORM))),u>n.vX.length-1?void 0:u},E=e=>{let t=n.Pq.WIDE;return e<870?t=n.Pq.NARROW:e>=870&&e<=1275&&(t=n.Pq.MEDIUM),t},z=(e,t,i)=>{let{crossSite:r}=(0,u.mB)(e.search);if(a.Z()?.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled&&t.length<=1){window.close();return}window?[...Array(i.find(e=>e&&e.location&&e.location.pathname.includes("pin-builder"))?3:1)].forEach(()=>r?window.history.back():t.goBack()):t.goBack()};function R(e,t){let i=[...e],a=i.indexOf(t);return a>-1?i.splice(a,1):i.push(t),i}},755884:(e,t,i)=>{i.d(t,{$v:()=>g,eN:()=>m,gf:()=>s,i7:()=>p,in:()=>u,jz:()=>o,pD:()=>l,p_:()=>n,s5:()=>c,sk:()=>b,tz:()=>h,uE:()=>_,zY:()=>d});let a="iphone",r="android_mobile",n="ipad",s="android_tablet",l="web_mobile",o=["web",l,a,n,r,s],d=["android_mobile","android_tablet","iphone","ipad","web"],c=["android_mobile","android_tablet","iphone","ipad","web"],u=["android_mobile","iphone"],h=["android_mobile","android_tablet","iphone","ipad"],_=[a,r],p=[a,r],g=[a,r,n,s],m=[a,r],b=["web",n,l,a,r,s]},49658:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var a=i(667294),r=i(883119),n=i(144326),s=i(899269),l=i(409093),o=i(785893);function d(e){let t=(0,n.ZP)(),{clientTrackingParams:i,style:d,useLegoStyles:c=!1,usePersistentOneClickSaveStyles:u,wrappingIconStyle:h,shouldUseLegoStyles:_,carouselSlotCurrentIndex:p,component:g,onDelete:m,onSubmit:b,onToggleModal:y,pinId:f}=e,[v,x]=(0,a.useState)(!1),{onClick:S,carouselSlotCurrentIndex:P}=(0,l.Z)({carouselSlotCurrentIndexProp:p,component:g,pinId:f,setShowEditModal:x}),w=(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(r.hU,{accessibilityLabel:t.bt("Editar", "Edit", "edit button on pin", undefined, true),bgColor:d&&d.bgColor||"white",icon:"edit",iconColor:d&&d.iconColor||"darkGray",onClick:S,size:d&&d.size||"md"}),v&&f&&(0,o.jsx)(s.Z,{carouselSlotCurrentIndex:P,clientTrackingParams:i,onDelete:m,onHide:()=>{x(!1),y?.(!1)},onSubmit:b,pinId:f})]});return _?(0,o.jsx)(r.Fm,{accessibilityLabel:t.bt("Pin guardado", "Pin Saved", "PinRepEditButton.SavedButtonLabel", undefined, true),color:"red",dataTestId:"saved-button",onClick:m,selected:!0,size:"lg",text:t.bt("Guardado", "Saved", "PinRepEditButton.SavedButton", undefined, true)}):c||u?(0,o.jsx)("div",{"data-test-id":"use-lego-styles-div",style:{...h||{}},children:w}):w}},734325:(e,t,i)=>{i.d(t,{KA:()=>n,T3:()=>r,Ur:()=>s,i5:()=>a,kx:()=>l});let a={AT:14,BE:13,BG:14,HR:16,CY:14,CZ:15,DK:13,EE:14,FI:13,FR:15,DE:16,GR:15,HU:16,IE:16,IT:14,LV:13,LT:14,LU:16,MT:13,NL:16,PL:16,PT:13,RO:16,SK:16,SI:15,ES:14,SE:13,GB:13},r={...a,KR:14},n=16,s=13,l=5},451237:(e,t,i)=>{i.d(t,{Z:()=>n});var a,r=((a=r||{}).BOARD_PICKER="board_picker",a.ORGANIZE_PINS="organize_pins",a.PROFILE="profile",a.PIN_CLUSTER="create_pin_cluster_page",a);let n=r},688596:(e,t,i)=>{i.d(t,{Fx:()=>l,HY:()=>s,IR:()=>n,Uz:()=>o,qA:()=>d});var a=i(415787),r=i(757749);let n={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2},s={[r.N.HIDDEN]:"https://i.pinimg.com/originals/0d/fc/e7/0dfce74a82e89659495f1c9257fed188.png",[r.N.HOPE]:"https://i.pinimg.com/originals/46/d7/70/46d7705570b3c23562a70f39817b7b19.png",[r.N.LOVE]:"https://i.pinimg.com/originals/60/7e/d2/607ed2380d9fa28047f211dc6a7e8576.png"};function l(e){return null!=e&&(!!e.notice||!!e.notices&&e.notices.length>0)}function o(e){return!!e&&e.severity===n.ABUSIVE}function d({auxData:e,isDesktop:t,logContextEvent:i}){i({aux_data:e,component:13367,element:11180,event_type:t?101:102,view_parameter:43,view_type:2}),(0,a.QX)("webapp.searchAdvisories.action",1,{sampleRate:1,tags:{advisory_level:e.advisory_level,advisory_type:e.advisory_type,app:t?"DESKTOP_WEB":"MOBILE_WEB",url:e.url,resource_country:e.resource_country}})}},723223:(e,t,i)=>{i.d(t,{W:()=>L,Z:()=>D});var a,r,n,s,l,o=i(667294);i(167912);var d=i(573706),c=i(384609),u=i(730212),h=i(410150),_=i(969119),p=i(897976),g=i(883119),m=i(488792),b=i(648089),y=i(688596),f=i(785893);let v=void 0!==a?a:a=i(27218);function x({auxData:e,actionKey:t,alignCenter:i}){let a=(0,c.Z)(v,t),r=(0,m.Z)(),n=(0,h.HG)(),{title:s,description:l,button:d}=a,u=d?.text,_=s?.text,x=l?.text,S=d?.link??"",P=S.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),w=u&&S.startsWith("http"),j=(0,b.Z)({url:S}),I=w&&j?"nofollow":"none";return e?.advisory_type===p.Uv?(0,f.jsx)(o.Fragment,{children:(0,f.jsxs)(g.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!_&&(0,f.jsx)(g.xv,{align:"start",weight:"bold",children:_}),!!x&&(0,f.jsx)(g.xv,{align:"start",children:x}),(0,f.jsx)(g.ZP,{color:"white",href:S,onClick:()=>{(0,y.qA)({auxData:{...e,url:S},isDesktop:n,logContextEvent:r})},rel:I,text:u||"Visit"})]})}):w?(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(g.xu,{marginBottom:1,children:(0,f.jsx)(g.xv,{align:i?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,f.jsx)(g.xu,{marginBottom:1,children:(0,f.jsx)(g.rU,{href:S,onClick:()=>{(0,y.qA)({logContextEvent:r,auxData:{...e,url:S},isDesktop:n})},rel:I,children:(0,f.jsx)(g.xv,{align:i?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:P})})})]}):(0,f.jsxs)(o.Fragment,{children:[!!_&&(0,f.jsx)(g.xu,{marginBottom:1,children:(0,f.jsx)(g.xv,{align:i?"center":"start",weight:"bold",children:_})}),!!x&&(0,f.jsx)(g.xu,{marginBottom:1,children:(0,f.jsx)(g.xv,{align:i?"center":"start",children:x})})]})}let S=void 0!==r?r:r=i(730172);function P({text:e,textTags:t,auxData:i}){let a=(0,m.Z)(),r=(0,h.HG)(),n=[],s=0;for(let l=0;l<t.length;l+=1){let o=t[l];if(5===o.tagType&&o.link){let{offset:t,length:l,link:d}=o;if(null!=t&&null!=l&&null!=d){let o=e.substring(t,t+l),c=(0,f.jsx)(g.xv,{inline:!0,weight:"bold",children:(0,f.jsx)(g.rU,{display:"inlineBlock",href:d,onClick:()=>{(0,y.qA)({logContextEvent:a,auxData:{...i,url:d},isDesktop:r})},target:"blank",underline:"hover",children:o},o)});n.push((0,f.jsx)("span",{children:e.substring(s,t)})),n.push(c),s=t+l}}}return(s>0&&n.push((0,f.jsx)("span",{children:e.substring(s)})),0===n.length)?[(0,f.jsx)("span",{children:e})]:n}function w({auxData:e,textTagKey:t,text:i}){let a=(0,c.Z)(S,t);return(0,f.jsx)(P,{auxData:e,text:i,textTags:a})}let j=[4,14],I={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},A={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},k=void 0!==n?n:n=i(599673);function C({auxData:e,advisory:t,inModal:i,noticeKey:a}){let{title:r,description:n,actions:s}=(0,c.Z)(k,a),l=!!s?.length&&(e?.advisory_type===p.Uv||!!t&&j.includes(t)),o=s?.length===1,d=n&&n.text||"";return(0,f.jsxs)(g.xu,{dangerouslySetInlineStyle:{__style:i?A:I},padding:6,rounding:2,children:[!!r&&!i&&(0,f.jsx)(g.xu,{display:"flex",marginBottom:2,children:(0,f.jsx)(g.X6,{size:"500",children:r})}),!!d&&n?.textTags!=null&&(0,f.jsx)(g.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,f.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,f.jsx)(g.xv,{align:i?"center":"start",overflow:"normal",children:(0,f.jsx)(w,{auxData:e,text:d,textTagKey:n.textTags})})})}),l&&(0,f.jsx)(g.xu,{direction:i?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:s?.map(t=>f.jsx(g.xu,{column:i||o?12:6,paddingX:2,paddingY:1,children:f.jsx(x,{actionKey:t,alignCenter:i||o,auxData:e})},t.actionId))})]})}let T=void 0!==s?s:s=i(799535);function B({auxData:e,noticeKey:t}){let i=(0,c.Z)(T,t),a=(0,m.Z)(),r=(0,h.HG)(),n={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,f.jsxs)(g.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:8,width:656,children:(0,f.jsxs)(g.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,f.jsx)("span",{style:n,children:i.description?.textTags&&(0,f.jsx)(w,{text:i.description?.text||"",textTagKey:i.description.textTags})}),(0,f.jsx)(g.xu,{marginTop:6,children:(i.actions??[]).map(t=>{let i=t.button?.link;return i&&i.startsWith("tel")?(0,f.jsxs)(g.xu,{children:[(0,f.jsx)("span",{style:{fontWeight:"600",...n},children:t.title?.text}),(0,f.jsx)("span",{style:n,children:t.description?.text})]}):(0,f.jsx)(g.rU,{href:i||"",onClick:()=>{(0,y.qA)({logContextEvent:a,auxData:{...e,url:i||"",isLegoNotice:!0},isDesktop:r})},children:(0,f.jsx)(g.xu,{display:"inlineBlock",children:(0,f.jsx)(g.xu,{alignItems:"center",color:"infoBase",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,f.jsx)(g.xv,{color:"inverse",weight:"bold",children:t.button?.text||""})})})})})})]})}),!!i.footer&&(0,f.jsx)(g.xu,{paddingY:2,width:540,children:(0,f.jsx)(g.rU,{display:"inlineBlock",href:i.footer.link??"",onClick:()=>{(0,y.qA)({logContextEvent:a,auxData:{...e,url:i.footer?.link??"",isLegoNotice:!0},isDesktop:r})},target:"blank",underline:"hover",children:(0,f.jsx)(g.xv,{align:"center",color:"subtle",size:"100",children:(0,f.jsx)("div",{dangerouslySetInnerHTML:{__html:i.footer.text??""}})})},i.footer.link)})]})}var E=i(511507),z=i(415787);let R=void 0!==l?l:l=i(583808);function F({advisoryDetails:e,boardId:t,boardSectionId:i,query:a,sensitivity:r,viewParameter:n,viewType:s}){let{logContextEvent:l}=(0,d.v)(),o=(0,h.HG)();(0,_.Z)(()=>{s&&(l({aux_data:{entered_query:a,advisory_details:e,advisory_level:r?.advisory,severity_level:r?.severity,advisory_type:r?.advisory_type,resource_country:r?.resource_country},component:13367,event_type:120,view_parameter:n,view_type:s}),(0,z.QX)("webapp.searchAdvisories.view",1,{sampleRate:1,tags:{advisory_level:r?.advisory,advisory_type:r?.advisory_type,app:o?"DESKTOP_WEB":"MOBILE_WEB",resource_country:r?.resource_country,placement:"search"}})),t&&5===s&&l({aux_data:{board_id:t,board_section_id:i??0},component:178,event_type:15549,view_parameter:n,view_type:s})})}function L({boardId:e,boardSectionId:t,sensitivityKey:i,inModal:a,query:r,viewParameter:n,viewType:s,advisoryDetails:l}){let d=(0,c.Z)(R,i),{data:h}=(0,E.Z)(),_=(0,u.B)(),{sensitivity:g}=h||{};F({advisoryDetails:l,boardId:e,boardSectionId:t,query:r,sensitivity:null!=g?g:void 0,viewParameter:n,viewType:s});let m=d?.notices,b={advisory_level:g?.advisory||null,severity_level:g?.severity||null,advisory_type:g?.advisory_type||"",stage:_.stage,resource_country:g?.resource_country||"",entered_query:r||""};return(0,f.jsx)(o.Fragment,{children:m?.map(e=>2===e.style&&b?.advisory_type!==p.Uv?f.jsx(B,{auxData:b,noticeKey:e}):f.jsx(C,{advisory:g?.advisory,auxData:b,inModal:a,noticeKey:e}))})}function D({boardId:e,boardSectionId:t,notices:i,query:a,sensitivity:r,viewParameter:n,viewType:s,inModal:l}){F({advisoryDetails:r?.advisory_details,boardId:e,boardSectionId:t,query:a,sensitivity:{advisory:r?.advisory,severity:r?.severity},viewParameter:n,viewType:s});let d=(0,u.B)(),c={advisory_level:r?.advisory||null,severity_level:r?.severity||null,advisory_type:r?.advisory_type||"",stage:d.stage,resource_country:r?.resource_country||"",entered_query:a||""};return(0,f.jsx)(o.Fragment,{children:i?.map(e=>2===e.style?f.jsx(B,{auxData:c,noticeKey:{type:"deprecated",data:e}},e.id):f.jsx(C,{advisory:r?.advisory,inModal:l,noticeKey:{type:"deprecated",data:e}},e.id))})}},897976:(e,t,i)=>{i.d(t,{IR:()=>r,St:()=>a,Uv:()=>s,Uz:()=>n});let a={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},r={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function n(e){return!!e&&e.severity===r.ABUSIVE}let s="THIRD_PARTY_TL"},545157:(e,t,i)=>{i.d(t,{CU:()=>u,ZP:()=>c,hi:()=>d});var a,r=i(422578),n=i(663641),s=i(847881),l=i(511507);let o=void 0!==a?a:a=i(370328);function d(e){let{notice:t,notices:i,advisory:a,severity:n}=(0,r.useFragment)(o,e)||{};return{hasNotices:!!(t||i?.[0]&&null!==i[0].title),advisory:a,severity:n}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:i}=e,a=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(a=!1),{hasNotices:!!e.notice||a,advisory:t,severity:i}}function u(e){let{scope:t}=(0,s.b)(),{data:i,isLoaded:a}=(0,l.Z)(),r=d(e);if(t===n.lw.USERS)return r;if(!a||!i)return{hasNotices:!1};let{sensitivity:o}=i;return c(o)}},47407:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(667294),r=i(883119),n=i(144326),s=i(611735),l=i(785893);function o(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class d extends a.Component{constructor(...e){super(...e),o(this,"setInputRef",e=>{e&&(this._input=e)}),o(this,"handleKeyDown",e=>{let{event:t}=e,{disabled:i,indexManager:a}=this.props;if(!i)switch(t.which){case s.Z.ENTER:case s.Z.NUMPAD_ENTER:t.preventDefault(),a.select();break;case s.Z.UP:t.preventDefault(),a.prev();break;case s.Z.DOWN:t.preventDefault(),a.next()}})}componentDidMount(){this._input&&this._input.focus()}render(){let{onChange:e,value:t}=this.props;return(0,l.jsx)(r.xu,{"data-test-id":"picker-search-field-container",role:"presentation",width:"100%",children:(0,l.jsx)(r.Um,{ref:this.setInputRef,accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),onKeyDown:this.handleKeyDown,placeholder:this.props.i18n.bt("Buscar", "Search", "search bar placeholder text", undefined, true),size:"lg",value:t})})}}let c=function(e){let t=(0,n.ZP)();return(0,l.jsx)(d,{...e,i18n:t})}},151600:(e,t,i)=>{i.d(t,{Z:()=>g});var a=i(667294),r=i(883119),n=i(144326),s=i(591412),l=i(401227),o=i(47407),d=i(411886),c=i(564665),u=i(589681),h=i(785893);function _(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends a.Component{constructor(...e){super(...e),_(this,"state",{searchQuery:""}),_(this,"handleSelectItem",e=>{let{onCreate:t,onSelected:i}=this.props;if(!e&&t){let{searchQuery:e}=this.state;t(e)}else e&&i(e);(t||e)&&this.setState({searchQuery:""})}),_(this,"handleSearchQueryInput",e=>{this.setState({searchQuery:e})}),_(this,"renderSectionHeader",e=>e.title?(0,h.jsx)(r.xu,{children:(0,h.jsx)(r.xu,{paddingX:3,paddingY:1,children:(0,h.jsx)(r.xv,{size:"200",children:e.title})})}):null),_(this,"renderRow",({item:e,hovered:t,sectionProps:i={}})=>{let{boardSavedTo:a,isSelectMode:r,disabledRowId:n}=this.props,{searchQuery:s}=this.state,{inSectionSelection:l=!1}=i,o=a&&a.board===e.id?a&&a.state:null,c="board_section"===e.type;return(0,h.jsx)(d.Z,{disabled:e.id===n&&l,isSection:c,isSelectMode:r,isWithinSectionPicker:l,item:e,saveState:o,searchQuery:s,selected:t})})}render(){let{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:i,getSections:a,isLoaded:n,onCreate:d,pinId:_}=this.props;if(!n)return(0,h.jsx)(r.xu,{paddingY:5,children:(0,h.jsx)(r.$j,{accessibilityLabel:this.props.i18n.bt("cargando selector de subtableros", "loading section picker", "accessibility label for the loading spinner the repin picker", undefined, true),show:!0})});{let{searchQuery:n}=this.state,p=a(n);return this.indexManager=new s.Z(p.map(e=>e.items)),this.indexManager.setSelectItem(this.handleSelectItem),(0,h.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{zIndex:0}},direction:"column",display:"flex",flex:"grow",height:"100%",minHeight:0,overflow:"auto",children:[!i&&(0,h.jsx)(r.xu,{children:(0,h.jsx)(r.xu,{marginBottom:4,marginTop:1,paddingX:3,children:(0,h.jsx)(o.Z,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:n})})}),(0,h.jsx)(l.Z,{disabled:!!e,grow:!i&&!n,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:p}),d&&(0,h.jsx)(r.xu,{borderStyle:p.length>1?"shadow":"none",children:(0,h.jsx)(u.Z,{buttonLabel:t,hasHoverState:!0,name:n,onClick:()=>d(n)})}),i&&d&&_&&(0,h.jsx)(c.Z,{onBoardSelected:d,pinId:_})]})}}}function g(e){let t=(0,n.ZP)();return(0,h.jsx)(p,{...e,i18n:t})}},909999:(e,t,i)=>{i.d(t,{j:()=>s});let a={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},r=e=>{if(!e)return"";let t="";for(let i=0;i<e.length;i+=1)t+=a[e.charAt(i)]||e.charAt(i);return t},n=(e,t)=>{let i=t.split(" "),a=e.split(" "),n=0;for(let e=0;e<a.length;e+=1)(r(a[e]).includes(i[n])||a[e].includes(i[n]))&&(n+=1);return n===i.length},s=(e,t,i="name")=>{let a=t.toLowerCase();return e.filter(e=>n(e[i].toLowerCase(),a))}},994699:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(667294),r=i(235838);function n(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let s=({scrollTop:e,clientHeight:t,scrollHeight:i},a)=>e+t+(a?a(t):2*t)>i;class l extends a.PureComponent{constructor(...e){super(...e),n(this,"setContainerRef",e=>{this.containerRef=e}),n(this,"fetchMoreIfNecessary",(0,r.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&s(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},240932:(e,t,i)=>{i.d(t,{MD:()=>G,xH:()=>Q,uC:()=>V,sR:()=>J,DR:()=>X});var a=i(667294),r=i(545007),n=i(172045),s=i(883119),l=i(573706),o=i(400416),d=i(144326),c=i(512541),u=i(297728),h=i(730212),_=i(338623),p=i(961754),g=i(382396),m=i(383399),b=i(733423),y=i(801621),f=i(451237),v=i(167210),x=i(969119),S=i(785893);function P({boardPickerSuggestedBoards:e,clientTrackingParams:t,imageSignature:i,index:a,item:r,pinId:n,saveSessionId:o,surfaceOriginViewParameter:d,useLegoLayout:c}){let{logContextEvent:u}=(0,l.v)();return(0,x.Z)(()=>{"shortlist"===r.category&&u({aux_data:{board_picker_surface_origin:d,board_picker_suggested_boards:e,image_signature:i,pin_id:n,save_session_id:o},event_type:13,clientTrackingParams:t,view_type:21,view_parameter:3988})}),(0,S.jsx)(s.xu,{marginTop:a>0?2:1,paddingX:c?4:3,paddingY:1,children:(0,S.jsx)(s.xv,{size:c?"100":"200",children:r.title})})}var w=i(640498),j=i(912355);let I=e=>{let{accessibilityLabelText:t,board:i,buttonText:r,clientTrackingParams:n,displayAlreadySavedMsg:l,i18n:o,imageSignature:d,isSectionOpen:c,logContextEvent:u,onButtonClick:h,onClick:_,pinId:p,saveSessionId:g,shouldOpenSections:m=!0,showSaveToProfile:b,showFlyoutSaveButton:y=!0,surfaceOriginViewParameter:f,useLegoLayout:v}=e,[x,P]=(0,a.useState)(!1),I=(0,a.useRef)(null),A=!!i.section_count&&i.section_count>0,{images:k,image_cover_url:C}=i||{},T=!C?.includes("custom")&&k&&k["75x75"]&&k["75x75"][k["75x75"].length-1].url||C;(0,a.useEffect)(()=>{"boardless"===i.type&&u({aux_data:{board_picker_surface_origin:f,image_signature:d,pin_id:p,save_session_id:g},clientTrackingParams:n,event_type:13,view_parameter:3990,view_type:21})},[]);let B=()=>{_(i)};return(0,S.jsx)(s.xu,{"data-test-id":A?"boardWithSection":"boardWithoutSection",children:(0,S.jsx)(s.iP,{ref:I,onBlur:()=>{P(!1)},onFocus:()=>{P(!0)},onMouseEnter:()=>{P(!0)},onMouseLeave:()=>{P(!1)},onTap:B,children:(0,S.jsxs)(s.xu,{alignItems:"center",color:x?"secondary":"default","data-test-id":`board-row-${i.name||""}`,display:"flex",height:v?64:52,marginBottom:v?0:1,marginEnd:v?2:3,marginStart:v?2:3,marginTop:v?0:1,padding:v?2:0,rounding:3,children:[(0,S.jsxs)(s.xu,{"aria-hidden":"true",flex:"none",height:v?48:36,marginBottom:v?0:1,marginEnd:v?2:3,marginStart:v?0:2,marginTop:v?0:1,overflow:"hidden",width:v?48:36,children:[b&&"boardless"===i.type&&(0,S.jsx)(s.zd,{height:"100%",rounding:2,width:"100%",children:(0,S.jsx)(s.xu,{alignItems:"center",color:x?"default":"secondary",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:(0,S.jsx)(s.xu,{children:(0,S.jsx)(s.JO,{accessibilityLabel:o.bt("Ícono Guardar en el perfil", "Save to profile icon", "BoardRow.TapArea.Icon", undefined, true),color:"default",icon:"history",size:24})})})}),T&&!m&&(0,S.jsx)(s.zd,{height:v?48:36,rounding:2,wash:!0,width:v?48:36,children:(0,S.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:v?48:36,naturalWidth:v?48:36,src:T})}),T&&m?(0,S.jsx)(s.zd,{height:v?48:36,rounding:2,wash:!0,width:v?48:36,children:(0,S.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:v?48:36,naturalWidth:v?48:36,src:T})}):(0,S.jsx)(s.zd,{height:v?48:36,rounding:2,width:v?48:36,children:(0,S.jsx)(s.xu,{color:m?"secondary":"transparent",height:"100%",width:"100%"})})]}),(0,S.jsxs)(s.xu,{flex:"grow",marginStart:v?0:1,overflow:"hidden",paddingY:1,children:[(0,S.jsx)(s.xv,{lineClamp:1,overflow:"breakAll",weight:m||!m?"bold":"normal",children:i.name}),l&&(0,S.jsx)(s.xu,{marginTop:1,children:(0,S.jsx)(s.xv,{align:"start",color:"default",size:"100",children:o.bt("Ya se guardó aquí", "Saved here already", "BoardFlyout.AlreadySaved.Message", undefined, true)})})]}),i&&(!x||x&&A&&!c)?(0,S.jsx)(s.xu,{children:(0,S.jsx)(j.Z,{board:i,showCollaborativeIcon:!!i.is_collaborative,showPrivateIcon:i.privacy===w.ZP.BoardPrivacy.SECRET,showProtectedIcon:i.privacy===w.ZP.BoardPrivacy.PROTECTED,showSectionsIcon:A&&m,useLegoLayout:v})}):null,(0===i.section_count||!m)&&y&&(0,S.jsx)(s.xu,{"data-test-id":"board-row-save-button-container",flex:"none",marginEnd:v?0:2,opacity:x?1:0,children:(0,S.jsx)(s.zx,{accessibilityLabel:t||o.bt("botón Guardar", "save button", "boardRow.saveButton", undefined, true),color:"red","data-test-id":"board-row-save-button",onClick:({event:e})=>{B(),h&&h(),e.stopPropagation()},text:r||o.bt("Guardar", "Save", "save button", undefined, true)})})]})})})},A=e=>{let{logContextEvent:t}=(0,l.v)(),i=(0,d.ZP)();return(0,S.jsx)(I,{...e,i18n:i,logContextEvent:t})};var k=i(501912),C=i(605244);function T(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class B extends a.Component{constructor(...e){super(...e),T(this,"state",{hovered:!1}),T(this,"handleMouseEnter",()=>{this.setState({hovered:!0})}),T(this,"handleMouseLeave",()=>{this.setState({hovered:!1})}),T(this,"handleTouch",()=>{let{board:e,onClick:t,section:i}=this.props;t(i,e)}),T(this,"handleButtonClick",({event:e})=>{let{onButtonClick:t}=this.props;this.handleTouch(),t&&t(),e.stopPropagation()}),T(this,"tapAreaRef",(0,a.createRef)())}focus(){let e=this.tapAreaRef.current;e&&e.focus()}render(){let{hovered:e}=this.state,{buttonText:t,section:i,showSectionSaveButton:a,useLegoLayout:r}=this.props;return(0,S.jsx)(s.iP,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,S.jsxs)(s.xu,{alignItems:"center",color:e?"secondary":"default",dangerouslySetInlineStyle:{__style:r?{}:{marginLeft:53,marginRight:11}},"data-test-id":`section-row-${i.title||""}`,display:"flex",height:r?64:52,marginEnd:r?2:0,marginStart:r?2:0,marginTop:r?0:1,padding:r?2:0,rounding:3,children:[r&&!!i.preview_pins?.length&&(0,S.jsx)(C.Z,{image_url:i.preview_pins[0].image_square_url??"",naturalHeight:i.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:i.preview_pins[0].image_square_size_pixels?.width??1}),(0,S.jsx)(s.xu,{flex:"grow",marginStart:r?0:4,paddingY:1,children:(0,S.jsx)(s.xv,{lineClamp:1,weight:r?"bold":"normal",children:i.title})}),e&&a&&(0,S.jsx)(s.xu,{flex:"none",marginEnd:r?0:2,children:(0,S.jsx)(s.zx,{accessibilityLabel:"save button",color:"red",onClick:this.handleButtonClick,text:t||this.props.i18n.bt("Guardar", "Save", "save button", undefined, true)})})]})})}}function E(e){let t=(0,d.ZP)();return(0,S.jsx)(B,{...e,i18n:t})}function z(e){let t=(0,d.ZP)(),{board:i,buttonText:a,onClick:r,onButtonClick:n,showSectionSaveButton:l,useLegoLayout:o}=e,c=(0,k.Z)(),u=(0,m.Z)(),h=(0,y.lJ)(u,c),_=(0,p.Z)({name:"BoardSectionsRepinResource",options:{board_id:i.id,orbac_subject_id:h},noCache:!0}),g=_&&_.data||[];return(0,S.jsxs)(s.xu,{children:[!_.isLoaded&&(0,S.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,S.jsx)(s.$j,{accessibilityLabel:t.bt("cargando selector de tableros", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})}),_.isLoaded&&(0,S.jsxs)(s.xu,{children:[o&&(0,S.jsx)(s.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(s.xv,{size:"100",children:t.bt("Subtablero", "Section", "PinBetterSave.BoardFlyout.SectionPlaceholderText", undefined, true)})}),g.map(e=>(0,S.jsx)(E,{board:i,buttonText:a,onButtonClick:n,onClick:r,section:e,showSectionSaveButton:l,useLegoLayout:o},e.id))]})]})}function R({onClick:e,title:t,showIcon:i}){let r=(0,d.ZP)(),[n,l]=(0,a.useState)(!1);return(0,S.jsx)(s.iP,{dataTestId:"board-suggestion-row-button",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:()=>{e({title:t})},children:(0,S.jsxs)(s.xu,{alignItems:"center",color:n?"secondary":"default",display:"flex",height:i?64:52,marginBottom:1,marginEnd:3,marginStart:3,rounding:3,children:[(0,S.jsx)(s.xu,{flex:"none",height:i?48:36,marginBottom:1,marginEnd:3,marginStart:i?1:2,marginTop:1,overflow:"hidden",rounding:i?2:1,width:i?48:36,children:(0,S.jsx)(s.xu,{alignItems:i?"center":void 0,color:"secondary",display:i?"flex":void 0,height:"100%",justifyContent:i?"center":void 0,width:"100%",children:i&&(0,S.jsx)(s.JO,{accessibilityLabel:r.bt("Ícono de Crear tablero", "Create board icon", "BoardSuggestionRow.AccessibilityLabel.Text", undefined, true),color:"default",icon:"add",size:20})})}),(0,S.jsx)(s.xu,{flex:"grow",paddingY:1,children:(0,S.jsx)(s.xv,{lineClamp:1,weight:"bold",children:t})}),n&&(0,S.jsx)(s.xu,{marginEnd:2,children:(0,S.jsx)(s.zx,{accessibilityLabel:"create button",color:"red",text:r.bt("Crear", "Create", "create button to create a new board", undefined, true)})})]})})}function F(e){let t=(0,d.ZP)(),{suggestionsResource:i,onClick:r,pinBuilderSuggestions:n,inWebRepinFlowExp:l}=e,o=n||i&&i.data||[],c=(0,S.jsxs)(a.Fragment,{children:[l&&(0,S.jsx)(s.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(s.xv,{size:"100",children:t.bt("Sugerencias", "Suggestions", "PinBetterSave.BoardFlyout.SectionPlaceholderText", undefined, true)})}),o.map((e,t)=>(0,S.jsx)(R,{onClick:r,showIcon:l,title:e.title},t))]});return(0,S.jsx)(a.Fragment,{children:o?c:(0,S.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,S.jsx)(s.$j,{accessibilityLabel:t.bt("cargando sugerencias de tablero", "loading board suggestions", "accessibility text for loading spinner", undefined, true),show:!0})})})}T(B,"defaultProps",{showSectionSaveButton:!0});var L=i(876594);function D({isBoardCreate:e,onCreateBoardClick:t,useLegoLayout:i}){let r=(0,d.ZP)(),[n,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1);return(0,S.jsx)(s.xu,{"data-test-id":"create-board",display:"flex",height:"100%",rounding:2,children:(0,S.jsx)(s.iP,{dataTestId:e?"create-board-button":"create-section-button",onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTap:t,rounding:2,children:(0,S.jsxs)(s.xu,{alignItems:"center",color:n?"secondary":"default",dangerouslySetInlineStyle:{__style:{...o?{border:`2px solid ${L.qtB}`}:{}}},display:"flex",height:"100%",padding:i?4:2,width:"100%",children:[(0,S.jsx)(s.xu,{color:i?"secondary":"transparent",dangerouslySetInlineStyle:{__style:i?{padding:"14px"}:{}},marginEnd:i?2:5,marginStart:i?0:4,rounding:i?2:0,children:(0,S.jsx)(s.JO,{accessibilityLabel:"",color:i?"default":"error",icon:i?"add":"add-circle",size:i?20:28})}),e?(0,S.jsx)(s.xv,{align:"center",lineClamp:1,weight:"bold",children:r.bt("Crear tablero", "Create board", " - ", undefined, true)}):(0,S.jsx)(s.xv,{align:"center",lineClamp:1,weight:"bold",children:r.bt("Crear subtablero", "Create section", " - ", undefined, true)})]})})})}var Z=i(909999),N=i(633493);function O(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let M=e=>e?498:439,K=e=>e?80:52,U="allBoards",H="shortlist",W=`
.BoardsSlideLeft {
  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRight {
  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideLeftRTL {
  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

.BoardsSlideRightRTL {
  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;
}

@keyframes boardFlyoutSlideLeft {
  from {
    margin-left: 0%;
  }

  to {
    margin-left: -100%;
  }
}

@keyframes boardFlyoutSlideRight {
  from {
    margin-left: -100%;
  }

  to {
    margin-left: 0%;
  }
}

@keyframes boardFlyoutSlideLeftRTL {
  from {
    margin-right: -100%;
  }

  to {
    margin-right: 0%;
  }
}

@keyframes boardFlyoutSlideRightRTL {
  from {
    margin-right: 0%;
  }

  to {
    margin-right: -100%;
  }
}
`;class G extends a.PureComponent{constructor(...e){super(...e),O(this,"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,n.Z)()}),O(this,"handleScroll",()=>{let{_container:e}=this,{logContextEvent:t}=this.props;t({event_type:110,component:13282,view_type:21})}),O(this,"refHandler",e=>{this.removeEventListeners(),e&&e.addEventListener("scroll",this.handleScroll,{once:!0}),this._container=e}),O(this,"getItems",e=>{let{boardResource:t,changeBoardModal:i,showSaveToProfile:a}=this.props;if(!t?.data)return[];let{all_boards:r}=t.data,n=r.length>=3&&a,s=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:this.props.i18n.bt("Perfil", "Profile", "pinBetterSave.initialSelection.boardlessPinsOption", undefined, true),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],l=this.getAllBoards().map((e,t)=>this.mapBoards(e,U,t)),o=this.getShortlist().map((e,t)=>this.mapBoards(e,H,t)),d=!n&&a&&!i&&r.length>=3?[...s,...o.slice(0,2)]:o,{searchQuery:c}=this.state;return c.length>=g.Z?[...(0,Z.j)(l,c)]:[...r.length<3&&a?[{type:"header",title:this.props.i18n.bt("Guardar rápido y organizar más tarde", "Quick save and organize later", "BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle", undefined, true)},...s]:[],...r.length>=3&&n?s:[],...r.length>=3&&d&&d.length?[{category:H,type:"header",title:e?this.props.i18n.bt("Lo más elegido", "Top choices", "PinBetterSave.BoardFlyout.TopChoicesSectionTitle", undefined, true):this.props.i18n.bt("Las mejores sugerencias de tablero", "Top board suggestions", "Header for top suggesions in board picker", undefined, true)},...d]:[],...r.length>0?[{type:"header",title:r.length<3&&a?this.props.i18n.bt("Guardar en el tablero", "Save to board", "BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle", undefined, true):this.props.i18n.bt("Todos los tableros", "All boards", "Header for all boards in board picker", undefined, true)},...l]:[]]}),O(this,"mapBoards",(e,t,i)=>{let{selectedBoardId:a,selectedBoardCategory:r}=this.state,n=e.id===a&&t===r;return{...e,category:t,isOpen:n,gridIndex:i}}),O(this,"handleBack",()=>{let{setBoardWithSection:e}=this.props;this.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),e&&e(null)}),O(this,"handleSectionClick",(e,t)=>{let{clientTrackingParams:i,imageSignature:a,logContextEvent:r,onItemChosen:n,pinId:s,surfaceOriginViewParameter:l}=this.props,{saveSessionId:o,searchQuery:d}=this.state;r({event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:t.id,view_type:91,view_parameter:3133,aux_data:{board_id:t.id,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,image_signature:a,is_profile_save:!1,pin_id:s,save_session_id:o,search_query:d,section_id:e.id}}),n({boardId:t.id,url:e.slug?`${t.url}${e.slug}/`:t.url,sectionId:e.id,title:e.title||"",type:e.type,imageCoverUrl:t.image_cover_url,ownerUsername:t.owner&&t.owner.username||""})}),O(this,"getPinBuilderSuggestions",async()=>{let{clientTrackingParams:e,imageSignature:t,logContextEvent:i,pinId:a,surfaceOriginViewParameter:r}=this.props,{saveSessionId:n}=this.state;if(a){let s=await (0,o.Z)({url:`/v3/pins/${a}/board_title_suggestions/`,data:{pin_id:a}});if(s.resource_response.data){let l=s.resource_response.data.map(e=>({title:e.title,metadata:JSON.parse(e?.metadata??"{}")}))||[];this.setState({boardSuggestions:l}),i({aux_data:{board_picker_surface_origin:r,board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:t,pin_id:a,save_session_id:n},component:13282,clientTrackingParams:e,event_type:13,view_parameter:3992,view_type:21})}}}),O(this,"getAllBoards",()=>{let{boardResource:e,advertiser_id:t}=this.props;return(e?.data?.all_boards||[]).filter(e=>!t||"secret"!==e.privacy)}),O(this,"getShortlist",()=>{let{suggestedBoardsShortListResource:e,displayShortlistMostRecentBoard:t,boardResource:i}=this.props,a=i?.data?.boards_shortlist||[];return t?a:e?.data||[]}),O(this,"getBoards",e=>e===U?this.getAllBoards():e===H?this.getShortlist():[]),O(this,"getSuggestedBoardsIds",()=>{let{showSaveToProfile:e}=this.props,t=(e?this.getShortlist().slice(0,2):this.getShortlist()).map(e=>e.id);return e&&t.unshift("PROFILE_PINS"),t}),O(this,"getTopChoiceBoardsAuxData",()=>{let{showSaveToProfile:e}=this.props;return(e?this.getShortlist().slice(0,2):[...this.getShortlist()]).map(e=>({board_title_id:String(e.id),board_title_kind:JSON.parse(e.recommendation_reason??"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(e.recommendation_reason??"{}").score}))}),O(this,"getBoardTitleSuggestionsAuxData",()=>{let{boardSuggestions:e}=this.state;return e.map(e=>({board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}))}),O(this,"handleBoardWithSectionsClick",e=>{let{clientTrackingParams:t,logContextEvent:i,pinId:a,setBoardWithSection:r,surfaceOriginViewParameter:n}=this.props,{saveSessionId:s,searchQuery:l,selectedBoardId:o,selectedBoardCategory:d}=this.state,c=this.getBoards(e.category).find(({id:t})=>t===e.id),u=o===e.id&&d===e.category;i({event_type:13,clientTrackingParams:t,component:13282,element:36,object_id_str:e.id,view_type:275,aux_data:{board_id:e.id,board_picker_surface_origin:n,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,is_profile_save:!1,pin_id:a,save_session_id:s,search_query:l}}),c&&r&&r(c),this.setState({isSectionOpen:!0,selectedBoardId:u?"":e.id,selectedBoardCategory:u?"":e.category})}),O(this,"handleBoardClick",({board:e,toggleSections:t})=>{let{clientTrackingParams:i,imageSignature:a,logContextEvent:r,onItemChosen:n,pinId:s,surfaceOriginViewParameter:l}=this.props,{saveSessionId:o,searchQuery:d}=this.state;this.setState({searchBoxFocused:!1}),t?(r({event_type:101,component:13282,element:36,clientTrackingParams:i,object_id_str:e.id,view_type:91,view_parameter:e.category===H?3988:3989,aux_data:{board_id:e.id,board_component:e.category===H?3988:3989,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:a,is_profile_save:!1,pin_id:s,save_session_id:o,search_query:d}}),this.handleBoardWithSectionsClick({category:e.category,gridIndex:e.gridIndex,id:e.id})):(r("boardless"===e.type?{event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:3990,aux_data:{board_id:e.id,board_component:3990,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:a,is_profile_save:!0,pin_id:s,save_session_id:o,search_query:d}}:{event_type:101,clientTrackingParams:i,component:13282,element:36,object_id_str:e.id,view_type:91,view_parameter:e.category===H?3988:3989,aux_data:{board_id:e.id,board_component:e.category===H?3988:3989,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),board_index:e.gridIndex,image_signature:a,is_profile_save:"boardless"===e.type,pin_id:s,save_session_id:o,search_query:d}}),n({boardId:e.id,url:e.url,title:e.name||"",type:e.type,imageCoverUrl:e.image_cover_url,privacy:e.privacy}))}),O(this,"handleSearchQueryUpdate",e=>{this.setState(t=>({...t,searchQuery:e}))}),O(this,"handleCreateBoardClick",e=>{let{clientTrackingParams:t,imageSignature:i,logContextEvent:a,onBoardCreate:r,pinId:n,surfaceOriginViewParameter:s,surface:l}=this.props,{saveSessionId:o,searchQuery:d}=this.state;a({event_type:101,clientTrackingParams:t,component:13282,element:249,view_type:91,view_parameter:e?87:3132,aux_data:{board_component:e?87:3132,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:n,save_session_id:o,search_query:d,source:l??f.Z.BOARD_PICKER}}),r({title:d})}),O(this,"handleBoardSuggestionClick",e=>{let{clientTrackingParams:t,imageSignature:i,logContextEvent:a,onBoardCreate:r,pinId:n,surfaceOriginViewParameter:s}=this.props,{saveSessionId:l}=this.state;a({event_type:101,clientTrackingParams:t,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:s,board_title_suggestions:JSON.stringify(this.getBoardTitleSuggestionsAuxData()),image_signature:i,pin_id:n,save_session_id:l}}),r(e)})}componentWillUnmount(){this.removeEventListeners()}componentDidMount(){let{clientTrackingParams:e,logContextEvent:t,pinId:i,setBoardWithSection:a,surfaceOriginViewParameter:r}=this.props,{saveSessionId:n}=this.state;a&&a(null),t({event_type:13,component:13282,clientTrackingParams:e,element:10960,aux_data:{board_picker_surface_origin:r,pin_id:i,save_session_id:n}})}componentDidUpdate(e){let{saveSessionId:t}=this.state,{clientTrackingParams:i}=this.props;!e.suggestedBoardsShortListResource?.isLoaded&&this.props.suggestedBoardsShortListResource?.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,clientTrackingParams:i,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:t}})}removeEventListeners(){let{_container:e}=this;e&&e.removeEventListener("scroll",this.handleScroll)}render(){let{accessibilityLabelText:e,boardResource:t,buttonText:i,changeBoardModal:r,clientTrackingParams:n,customItem:l,headerText:o,hideAlreadySavedMsg:d,imageSignature:u,onButtonClick:h,paneHeight:_,paneWidth:p,pinAlreadySavedBoard:g,pinId:m,requestContext:b,sectionText:y,showSaveToProfile:f,showSearchField:x,showCreateBoardButton:w,showFlyoutSaveButton:j,showSections:I,showSectionSaveButton:k,suggestedBoardsShortListResource:C,surfaceOriginViewParameter:T,useStoryboardStyle:B,useLegoLayout:E,boardFlyoutStyle:R}=this.props,{boardSuggestions:L,isSectionOpen:Z,saveSessionId:O,searchBoxFocused:H,searchQuery:G}=this.state;if(!t)return null;let{isLoaded:$,error:q}=t,Y=[];($&&!q||C&&C.data&&!C.error)&&(Y=this.getItems(!!E));let X=Y.filter(e=>e&&e.category===U).length;X<=3&&0===L.length&&this.getPinBuilderSuggestions();let V=B?200:322,J=B?214:334,Q=_||290,ee=JSON.stringify(this.getTopChoiceBoardsAuxData()),et=b.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",ei="";null!==Z&&(ei=b.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");let ea=e=>(0,S.jsxs)(a.Fragment,{children:[!E&&(0,S.jsx)(s.iz,{}),(0,S.jsx)(s.xu,{borderStyle:E&&X>=3&&Y.length>1?"shadow":"none",dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},height:K(E),overflow:"hidden",children:(0,S.jsx)(D,{isBoardCreate:e,onCreateBoardClick:()=>this.handleCreateBoardClick(e),useLegoLayout:E})})]});return(0,S.jsxs)(s.xu,{color:"default","data-test-id":"board-picker-flyout",height:B||r?"100%":M(E),overflow:"hidden",rounding:2,width:E&&!r?"100%":p,zIndex:v.lI,children:[(0,S.jsx)(c.Z,{unsafeCSS:W}),$?null:(0,S.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:E&&!r?360:p,children:(0,S.jsx)(s.$j,{accessibilityLabel:this.props.i18n.bt("cargando selector de tableros", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})}),(0,S.jsx)(s.kC,{direction:"row",children:$&&(0,S.jsx)("div",{className:Z?et:ei,children:(0,S.jsx)(s.xu,{position:"relative",children:(0,S.jsxs)(s.xu,{direction:"row",display:"flex",width:E&&!r?720:(p??0)*2,zIndex:new s.Ry(0),children:[(0,S.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:E&&!r?360:p,children:[E&&!r&&(0,S.jsx)(s.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,S.jsx)(s.xv,{align:"center",size:"300",weight:"bold",children:o||(f?this.props.i18n.bt("Guardar", "Save", "PinBetterSave.BoardFlyout.SavePlaceholder", undefined, true):this.props.i18n.bt("Guardar en el tablero", "Save to board", "PinBetterSave.BoardFlyout.SaveToBoardPlaceholder", undefined, true))})}),(x??!r)&&(0,S.jsx)(s.xu,{"data-test-id":"search-boards-field-container",height:E?64:"auto",padding:R?.searchFieldStyle?.padding??(E?0:3),paddingX:R?.searchFieldStyle?.paddingX??(E?4:3),paddingY:R?.searchFieldStyle?.paddingY,children:(0,S.jsx)(N.Z,{accessibilityLabel:this.props.i18n.bt("Buscar en tus tableros", "Search through your boards", "search bar placeholder text", undefined, true),focused:H,id:"pickerSearchField",onChange:({value:e})=>this.handleSearchQueryUpdate(e),placeholder:this.props.i18n.bt("Buscar", "Search", "search bar placeholder text", undefined, true),size:R?.searchFieldStyle?.size??"lg",value:G})}),(0,S.jsxs)(s.xu,{ref:this.refHandler,maxHeight:E?Q:V,minHeight:E?290:V,overflow:"scrollY",children:[C&&!C.isLoaded?(0,S.jsx)(s.xu,{"data-test-id":"suggestedBoardsContainer",children:(0,S.jsx)(s.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,S.jsx)(s.$j,{accessibilityLabel:this.props.i18n.bt("cargando selector de tableros", "loading board picker", "accessibility text for loading spinner", undefined, true),show:!0})})}):null,l,Y.map((t,a)=>"header"===t.type?(0,S.jsx)(P,{boardPickerSuggestedBoards:ee,clientTrackingParams:n,imageSignature:u,index:a,item:t,pinId:m,saveSessionId:O,surfaceOriginViewParameter:T,useLegoLayout:E},`${t.title}`):(0,S.jsx)(s.xu,{children:(0,S.jsx)(A,{accessibilityLabelText:e,board:t,buttonText:i,clientTrackingParams:n,displayAlreadySavedMsg:g&&g.id===t.id&&!d,imageSignature:u,onButtonClick:h,onClick:e=>{this.handleBoardClick({board:e,toggleSections:I&&!!e.section_count})},pinId:m,saveSessionId:O,shouldOpenSections:I,showFlyoutSaveButton:j,showSaveToProfile:f,surfaceOriginViewParameter:T,useLegoLayout:E})},`${t.category}-${t.id}`)),X<=3&&L.length>0&&(0,S.jsx)(F,{inWebRepinFlowExp:E,onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:L})]}),w&&ea(!0)]}),Z&&(0,S.jsxs)(s.xu,{direction:"column",display:"flex",marginBottom:E?2:0,width:E&&!r?360:p,children:[(0,S.jsxs)(s.kC,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,S.jsx)(s.sg,{span:2,children:(0,S.jsx)(s.xu,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginStart:3,children:(0,S.jsx)(s.hU,{accessibilityLabel:"Back button",icon:"arrow-back",iconColor:"darkGray",onClick:this.handleBack,size:"sm"})})}),(0,S.jsx)(s.sg,{span:8,children:(0,S.jsx)(s.kC,{alignItems:"center",height:E?64:52,justifyContent:"center",children:(0,S.jsx)(s.xv,{weight:"bold",children:y||(E?this.props.i18n.bt("Guardar Pin en", "Save Pin to", "PinBetterSave.BoardFlyout.SectionHeader", undefined, true):this.props.i18n.bt("Elegir subtablero", "Choose section", "Header for section header", undefined, true))})})}),(0,S.jsx)(s.sg,{span:2,children:(0,S.jsx)(s.xu,{})})]}),!E&&(0,S.jsx)(s.iz,{}),(0,S.jsx)(s.xu,{maxHeight:E?Q:J,minHeight:E?354:J,overflow:"scrollY",children:Y?(0,S.jsx)(a.Fragment,{children:Y&&Y.map(e=>"header"===e.type?null:(0,S.jsx)(s.xu,{children:e.isOpen&&(0,S.jsxs)(a.Fragment,{children:[E&&(0,S.jsx)(s.xu,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(s.xv,{size:"100",children:this.props.i18n.bt("Tablero", "Board", "PinBetterSave.BoardFlyout.BoardPickerTitle", undefined, true)})}),(0,S.jsx)(A,{board:e,buttonText:i,displayAlreadySavedMsg:g&&g.id===e.id,isSectionOpen:!0,onButtonClick:h,onClick:e=>{this.handleBoardClick({board:e,toggleSections:!1})},saveSessionId:O,shouldOpenSections:!1,showFlyoutSaveButton:j,useLegoLayout:E}),(0,S.jsx)(z,{board:e,buttonText:i,onButtonClick:h,onClick:this.handleSectionClick,showSectionSaveButton:k,useLegoLayout:E})]})},`${e.category}-${e.id}`))}):null}),w&&!r&&ea(!1)]})]})})})})]})}}function $(e){let{logContextEvent:t}=(0,l.v)(),i=(0,d.ZP)(),{checkExperiment:a}=(0,u.F)();return(0,S.jsx)(G,{...e,checkExperiment:a,i18n:i,logContextEvent:t,requestContext:(0,h.B)()})}function q(e,t,i){let{advertiser:a}=e,r={};if(i&&i.user&&i.user.username&&i.id!==t.id&&(r.orbacActingAs=i,r.username=i.user.username),t&&a){let i=e.advertiser;if(t.isAuth&&i.is_impersonation)return{hasMUA:i.owner_user_id!==t.id,advertiser_id:i.id,username:i.owner_user_id,...r};if(t.isAuth&&i.owner_user_id!==t.id)return{hasMUA:!0,advertiser_id:i.id,username:i.owner_user_id,...r};if(t.isAuth&&i.owner_user_id===t.id)return{hasMUA:!1,advertiser_id:i.id,username:"me"}}return{advertiser_id:void 0,hasMUA:void 0,...r}}function Y(e){let{advertiser_id:t,hasMUA:i,boardFilter:a="all"}=e,{username:r}=e,n={field_set_key:"board_picker",filter:i?"protected":a,...r?{username:r}:Object.freeze({}),...t?{advertiser_id:t}:{}};return e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(n={...n,username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:a}),n}function X(e,t){return(i,a)=>i((0,_.jB)("BoardPickerBoardsResource",Y(q(a(),e,t))))}function V(e){let t=(0,m.Z)(),i=(0,r.v9)(i=>q(i,t,e.orbacActingAs)),a={...e,...i},n=(0,p.Z)({name:"BoardPickerBoardsResource",options:Y(a)});return(0,S.jsx)($,{...a,boardResource:n})}function J(e){let t=(0,b.Z)(),i=(0,m.Z)(),a=(0,y.lJ)(i,t);return(0,S.jsx)(V,{...e,orbacActingAs:a?t:void 0})}function Q(e){let t=(0,p.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),{data:i}=(0,p.Z)({name:"ApiResource",options:{url:`/v3/pins/${e.pinId}/`,field_sets:["pin.pinned_to_board()"]},noCache:!0});return(0,S.jsx)($,{...e,pinAlreadySavedBoard:i?.pinned_to_board,suggestedBoardsShortListResource:t})}O(G,"defaultProps",{clientTrackingParams:void 0,paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},912355:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(883119),r=i(990949),n=i(684860),s=i(785893);let l=({collaborator_count:e,useLegoLayout:t,type:i})=>t?(0,s.jsx)(a.xu,{marginEnd:e?2:0,children:(0,s.jsx)(n.Z,{type:i})}):(0,s.jsx)(n.Z,{type:i}),o=({board:e,showCollaborativeIcon:t,showPrivateIcon:i,showProtectedIcon:o,showSectionsIcon:d,useLegoLayout:c})=>{let u=e?.collaborating_users?.length||0;return t||i||o||d?(0,s.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:c?0:5,children:[i&&(0,s.jsx)(l,{collaborator_count:u,type:"secret",useLegoLayout:c}),o&&(0,s.jsx)(l,{collaborator_count:u,type:"protected",useLegoLayout:c}),t&&(c?(0,s.jsx)(r.Z,{board:e,isCompact:!0,ownerOnly:!1}):(0,s.jsx)(n.Z,{type:"group"})),d&&(0,s.jsx)(n.Z,{type:"sections"})]}):null}},273777:(e,t,i)=>{i.r(t),i.d(t,{PinBetterSave:()=>ex,default:()=>eS});var a,r,n,s,l=i(667294),o=i(545007);i(167912);var d=i(616550),c=i(883119),u=i(252071),h=i(609326),_=i(573706),p=i(703454),g=i(803611),m=i(208121),b=i(602185),y=i(194093),f=i(785020),v=i(636565),x=i(476198),S=i(384609),P=i(136061),w=i(144326),j=i(240760),I=i(267005),A=i(297728),k=i(961754),C=i(864723),T=i(471620),B=i(901450),E=i(868808),z=i(151958),R=i(383399),F=i(115642),L=i(827423),D=i(240932),Z=i(812696),N=i(785893);function O({dropdownRef:e,hideDropdown:t=!1,fromEggsBoard:i,isEggsUi:a,isSaved:r,onBoardDropdownClick:n,onSaveClick:s,promotedIsLeadAd:o,renderPinSaveTooltip:d,selectedTitle:u,showBoardFlyout:h,unselectedText:_,view:p}){let[g,m]=(0,l.useState)("save"),[b,y]=(0,l.useState)(!1),f=(0,w.ZP)(),v=(0,R.Z)(),{checkExperiment:x}=(0,A.F)(),S=(0,l.useRef)(null),{closeupWithinMasonryEnabled:P}=(0,F.x4)();(0,l.useEffect)(()=>{b&&(m("save"),y(!1))},[b]);let j=u||_,I="closeup"===p,k="media-viewer"===p,C=I&&!t&&v.isAuth&&x("web_curation_brv_navigate_to_board_from_closeup").anyEnabled,T=(0,l.useMemo)(()=>k?h?"inverse":"default":h||!I?"inverse":"default",[I,h,k]),B=(0,l.useCallback)(({event:e})=>{n(e)},[n]),E=I?"transparent":"transparentWhiteText";return E=k?"semiTransparentWhite":E,(0,N.jsxs)(c.xu,{ref:e,alignItems:k?"start":"center",dangerouslySetInlineStyle:{__style:{gap:"4px"}},display:"flex",justifyContent:C?"end":void 0,paddingX:P?0:void 0,width:"100%",children:[!t&&(C?(0,N.jsx)(Z.Z,{accessibilityLabel:f.bt("Selecciona el tablero en el que deseas guardar", "Select a board you want to save to", "PinBetterSave.BoardSelection.SplitSaveButton", undefined, true),isSaved:r,onClick:n,showBoardFlyout:h,title:j}):(0,N.jsx)(c.xu,{"data-test-id":u?"board-selection-item-selected":"board-selection-placeholder",flex:"grow",width:"100%",children:(0,N.jsx)(c.zx,{accessibilityLabel:f.bt("Selecciona un tablero en el que quieras guardar", "Select a board you want to save to", "PinBetterSave.BoardSelection.DropdownIcon", undefined, true),color:E,dataTestId:"PinBetterSaveDropdown",iconEnd:"arrow-down",onClick:B,selected:h,size:"lg",text:(0,N.jsx)(c.xv,{color:T,lineClamp:1,overflow:"breakAll",size:"300",weight:"bold",children:j})})})),(0,N.jsx)(c.xu,{alignSelf:I?"center":"start","data-test-id":"PinBetterSaveButton",flex:"none",marginStart:C?void 0:"auto",children:a?(0,N.jsx)(c.iP,{accessibilityLabel:r?f.bt("Guardado", "Saved", "pinBetterSave.oneTapSave.savedIcon.accessibilityLabel", undefined, true):f.bt("Guardar", "Save", "pinBetterSave.oneTapSave.saveIcon.accessibilityLabel", undefined, true),fullHeight:!0,onTap:({event:e})=>{"save"===g?(y(!0),m("saving"),requestAnimationFrame(()=>{m("saved")})):(y(!1),m("save")),t&&!(a||i)?n(e):s(e)},rounding:"circle",children:(0,N.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"save"!==g?void 0:"rgba(255,255,255,0.85)"}},rounding:"circle",children:[(0,N.jsx)(c.xu,{color:"transparent",padding:3,rounding:"circle",children:(0,N.jsx)(c.JO,{accessibilityLabel:f.bt("Guardar", "Save", "pinBetterSave.oneTapSave.saveIcon", undefined, true),color:"default",icon:"angled-pin"})}),(0,N.jsx)(c.xu,{color:"selected",dangerouslySetInlineStyle:{__style:{transform:"save"===g?"scale(0) rotate(90deg)":"scale(1) rotate(0)",transition:"transform 600ms cubic-bezier(0.175, 0.885, 0.32, 1.275)"}},marginTop:-10,padding:3,rounding:"circle",children:(0,N.jsx)(c.JO,{accessibilityLabel:f.bt("Guardado", "Saved", "pinBetterSave.oneTapSave.savedIcon", undefined, true),color:"inverse",icon:"check"})})]})}):(0,N.jsx)(c.Fm,{ref:S,color:o?"transparent":"red",onClick:({event:e})=>{t&&!i?n(e):s(e)},selected:r,size:"lg",text:r?f.bt("Guardado", "Saved", "PinBetterSave.BoardSelection.SavedButton", undefined, true):f.bt("Guardar", "Save", "PinBetterSave.BoardSelection.SaveButton", undefined, true)})}),!!d&&!!S.current&&I&&d(S.current)]})}var M=i(255507);class K extends l.PureComponent{constructor(...e){var t,i,a;super(...e),t="handleClick",i=()=>{let{boardId:e,logContextEvent:t}=this.props;t({event_type:101,component:20,element:10805,object_id_str:e})},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){let{toastShown:e}=this.props;e()}render(){let{boardName:e,boardUrl:t,onHide:i}=this.props;return(0,N.jsx)(x.Z,{duration:5e3,href:`${t}more_ideas/?ideas_referrer=16`,onClick:this.handleClick,onHide:i,text:(0,N.jsx)(c.xv,{weight:"bold",children:(0,j.nk)(this.props.i18n.bt("Encuentra más ideas para {{ boardName }}", "Find more ideas for {{ boardName }}", "postRepinUpsellToast.findMoreIdeas.toast", undefined, true),{boardName:e}).join("")})})}}function U(e){let{logContextEvent:t}=(0,_.v)(),i=(0,w.ZP)(),a=(0,o.I0)();return(0,N.jsx)(K,{...e,i18n:i,logContextEvent:t,toastShown:()=>a((0,M.ND)(e.boardId))})}var H=i(793874),W=i(559028),G=i(149118),$=i(352006),q=i(969119);let Y=(0,l.lazy)(()=>Promise.all([i.e(36075),i.e(36060),i.e(96988),i.e(33171)]).then(i.bind(i,896988)));function X(e){let{board:t,hideToast:i}=e,a=(0,w.ZP)(),r=(0,R.Z)(),[n,s]=(0,l.useState)(!1),[o,d]=(0,l.useState)(!1),u=()=>{i()};(0,q.Z)(()=>{setTimeout(()=>d(!0),100)});let{marginTop:h,opacity:_,pointerEvents:p,transform:g,transition:m,visibility:b}=(0,G.ZP)({deviceType:"desktop",hiding:!1,visible:o}),y=t.name,f=(0,N.jsxs)(c.xv,{children:[(0,N.jsxs)(c.xv,{weight:"bold",children:[" ",(0,j.nk)(a.bt("Invita a personas a tu nuevo tablero", "Invite people to your new board", "postSavedPinBoardCreateCollabUpsell.title.1", undefined, true),{boardName:y})]}),(0,N.jsx)(c.xv,{children:a.bt("Obtén ideas de tus personas favoritas.", "Get ideas from your favorite people", "postSavedPinBoardCollabUpsell.message", undefined, true)})]}),v=r.isAuth&&r.firstName&&(0,N.jsxs)(c.xu,{height:48,position:"relative",width:48,children:[(0,N.jsx)(c.xu,{position:"absolute",children:(0,N.jsx)(W.qE,{color:r.avatar_color_index,name:r.firstName,outline:!0,size:"sm",src:r.imageMediumUrl})}),(0,N.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{left:"25%",top:"25%"}},position:"absolute",rounding:4,children:(0,N.jsx)(c.Sj,{bgColor:"lightGray",hovered:!0,icon:"person-add",iconColor:"darkGray",size:"sm"})})]}),x=(0,N.jsx)(c.kC,{alignContent:"center",alignItems:"center",justifyContent:"start",children:(0,N.jsxs)(c.hE,{children:[(0,N.jsx)(c.zx,{accessibilityLabel:a.bt("Ahora no", "Not now", "postSavedPinBoardCollabUpsell.notNowLabel", undefined, true),color:"gray",onClick:u,text:a.bt("Ahora no", "Not now", "postSavedPinBoardCollabUpsell.notNowLabel", undefined, true)}),(0,N.jsx)(c.zx,{accessibilityLabel:a.bt("Invitar", "Invite", "postSavedPinBoardCollabUpsell.inviteFriendsLabel", undefined, true),color:"red",onClick:()=>{s(!0)},text:a.bt("Invitar", "Invite", "postSavedPinBoardCollabUpsell.inviteFriendsLabel", undefined, true)})]})});return(0,N.jsx)(c.mh,{zIndex:new c.H3([new c.Ry(1e3)]),children:n?(0,N.jsx)($.Z,{children:(0,N.jsx)(Y,{board:t,fromBoardCollabUpsell:!0,onDismiss:u})}):(0,N.jsx)(c.xu,{alignItems:"center",bottom:!0,dangerouslySetInlineStyle:{__style:{transform:g,transition:m,visibility:b,pointerEvents:p}},display:"flex",justifyContent:"center",marginBottom:5,marginTop:h,opacity:_,position:"fixed",width:"100%",children:(0,N.jsxs)(c.xu,{borderStyle:"shadow",color:(0,H.Yc)()?"elevationFloating":"default",direction:"column",display:"flex",paddingY:4,rounding:4,smDirection:"row",children:[(0,N.jsxs)(c.xu,{smDisplay:"flex",smMarginBottom:-3,smMarginTop:-3,width:"100%",wrap:!0,children:[(0,N.jsxs)(c.xu,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",justifyContent:"center",padding:4,smDirection:"row",smPaddingY:3,children:[v,(0,N.jsx)(c.xu,{alignItems:"center",direction:"column",display:"flex",flex:"shrink",marginBottom:"auto",marginTop:"auto",smDisplay:"block",smMarginEnd:6,smMarginStart:2,children:(0,N.jsx)(c.xu,{maxWidth:648,children:f})})]}),x]}),(0,N.jsx)(c.hU,{accessibilityLabel:"cancel",icon:"cancel",iconColor:"darkGray",onClick:u,padding:4,size:"sm"})]})})})}var V=i(430810),J=i(267081);let Q=({boardId:e,boardUrl:t,postRepinMoreIdeasUpsell:i})=>{if(!t)return!1;let{recentSaves:a,recentUpsell:r}=i;if(r[e])return!1;let n=a.findIndex(t=>t.boardId!==e);return(-1===n?a.length:n)+1>=3};var ee=i(732222),et=i(897976),ei=i(545157),ea=i(605810),er=i(993641),en=i(119437),es=i(808074),el=i(701842),eo=i(873737),ed=i(900492),ec=i(403764),eu=i(195456);let eh=void 0!==a?a:a=i(397566),e_=void 0!==r?r:r=i(32145);function ep(e){let{action:t,additionalCreateFields:i,boardWithSection:a,clientTrackingParams:r,children:n,onClose:s,pinKey:l,setCompletionPromise:o,shouldHideToast:d,shuffleAssetKey:c}=e,u=(0,S.Z)(eh,l),h=(0,S.Z)(e_,c);return(0,N.jsx)(eu.K,{action:t,additionalCreateFields:i,boardWithSection:a,clientTrackingParams:r,onClose:s,pinKey:u,setCompletionPromise:o,shouldShowToast:!d,showCreate:!0,shuffleAssetKey:h,urlPinInfo:null,children:e=>n(e)})}var eg=i(855799),em=i(415787);function eb(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ey=void 0!==n?n:n=i(103268),ef=void 0!==s?s:s=i(484728);function ev({savedInfo:e,variant:t}){let i=(0,w.ZP)(),{closeupWithinMasonryEnabled:a}=(0,F.x4)(),{checkExperiment:r}=(0,A.F)(),n=r("closeup_dweb_media_veiwer_background"),s="closeup"===t,l="boardless"===e.type?i.bt("Perfil", "Profile", "PinBetterSave.PinBetterSaveSavedStatus.savedTitle", undefined, true):e.title??"";return(0,N.jsx)(c.rU,{href:e.url||"",onClick:({event:e})=>{e.stopPropagation()},children:(0,N.jsx)(c.xu,{alignItems:s?"center":void 0,dangerouslySetInlineStyle:{__style:{color:a?"#FFF":"#333"}},"data-test-id":"saved-board-title",display:s?"flex":"block",marginEnd:s?4:0,marginStart:s?1:0,minHeight:s?52:void 0,children:(0,N.jsx)(c.xv,{align:s?"end":void 0,color:"cutout"===t||"media-viewer"===t&&"enabled_white_blur"!==n.group&&"enabled_white_solid"!==n.group?"light":"default",size:"300",weight:"bold",children:l.length<=20?l:(0,T.Z)(l,20)})})})}class ex extends l.Component{constructor(...e){super(...e),eb(this,"state",{boardWithSection:null,createdBoard:null,giftGuideSaveTarget:null,suggestedBoardTitle:"",showBoardFlyout:!1,showRepinModal:!1,sensitiveContentNotice:null,showBoardCollabUpsell:!1,hasItemSelected:!1}),eb(this,"setBoardSaveCompletionPromise",e=>{let{createdBoard:t}=this.state;this._repinCompletionPromise=e,this._repinCompletionPromise.promise.then(e=>{if(!e.board)return;let{board:{id:i,name:a,url:r}}=e,n={boardId:i,title:a,url:r};this.updateSelectedBoardOrSection(n),this.updateSavedState({...n,localPinId:e.id}),t&&(0,et.Uz)(t.sensitivity)&&(0,ei.ZP)(t.sensitivity)?this.setState({sensitiveContentNotice:t.sensitivity.notice||t.sensitivity.notices[0]}):this.handleRepinHide()})}),eb(this,"updateSavedState",e=>{let{currentHistoryStack:t,location:i,save:a,searchQueryInvalidated:r,onSave:n,pin:s}=this.props,l=(0,E.mB)(i.search).q||(0,L._)(t);a({pinId:s.entityId,nodeId:s.__id,boardId:e.boardId??"",localPinId:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??"",type:e.type??"",url:e.url??""}),l&&r(l),n&&e.localPinId&&n()}),eb(this,"updateSelectedBoardOrSection",e=>{let{selectBoardOrSection:t,pin:i}=this.props;t({pinId:i.entityId,nodeId:i.__id,boardId:e.boardId??"",localPinId:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??"",type:e.type??"",url:e.url??""})}),eb(this,"updateSelectedItem",()=>{let{initialSelection:e,selectedItem:t}=this.props;!t&&e&&(this.updateSelectedBoardOrSection(e),this.setState({hasItemSelected:!0}))}),eb(this,"dropdownRef",(0,l.createRef)()),eb(this,"handleItemChosen",e=>{let{checkExperiment:t,fromEggsBoard:i,savedInfo:a}=this.props;this.updateSelectedBoardOrSection(e);let r="";if(i&&t("web_easy_gift_guide_saving").anyEnabled){let{title:t}=e;r=t||"",this.deleteSavedState({isDisableToast:!!r,newPinId:a?.localPinId||void 0})}this.hideFlyout(!0),this.save({item:e,movedBoardTitle:r})}),eb(this,"handleBoardCreate",({title:e=""}={})=>{let{requireAuth:t,i18n:i}=this.props;if(t){t({loginModalHeader:(0,p.is)(i)});return}this.hideFlyout(!0),this.setState(t=>({...t,suggestedBoardTitle:e,showRepinModal:!0}));let{onToggleFlyout:a}=this.props;a&&a(!0,!0)}),eb(this,"handleBoardCreated",e=>{this.setState({createdBoard:e});let{toastManagerContext:t}=this.props;this.isViewerEligibleForBoardCollabUpsell(e)&&(this.setState({showBoardCollabUpsell:!0}),C.ZP.setItem(h.zq,+new Date),setTimeout(()=>t.showOneToast(({hideToast:t})=>(0,N.jsx)(X,{board:e,hideToast:t})),4e3))}),eb(this,"handleRepinHide",()=>{this.setState(e=>({...e,suggestedBoardTitle:"",showRepinModal:!1}));let{onToggleFlyout:e}=this.props;e&&e(!1,!1)}),eb(this,"handleBoardDropdownClick",e=>{let{setAbortNoActionPlacementTimeout:t,pin:{entityId:i},viewParameter:a,viewType:r,clientTrackingParams:n,logContextEvent:s}=this.props;t(!0),e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),this.state.showBoardFlyout?this.hideFlyout(!0):(s({aux_data:{pin_id:i},component:13282,element:10960,event_type:101,object_id_str:i,view_parameter:a,view_type:r,clientTrackingParams:n}),this.showFlyout())}),eb(this,"handleSaveClick",async e=>{let{i18n:t,isEggsUi:i,selectedItem:a,requireAuth:r}=this.props;if(r){e.stopPropagation(),r({loginModalHeader:(0,p.Bx)(t)});return}if(!a){this.handleBoardDropdownClick(e);return}e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation(),this.logClickEvent({isSaveClick:!0}),i?await this.save({item:{boardId:void 0,title:""}}):await this.save({item:a})}),eb(this,"logClickEvent",({isSaveClick:e})=>{let{clientTrackingParams:t,fromEggsBoard:i,isEggsUi:a,pin:r,selectedItem:n,viewType:s,viewParameter:l,logContextEvent:o}=this.props,d=n?.score?JSON.stringify([n.score]):void 0;o({event_type:101,...s?{view_type:s}:Object.freeze({}),...l?{view_parameter:l}:Object.freeze({}),component:13282,element:a||i?i?0:14583:36,object_id_str:n?.boardId,clientTrackingParams:t,aux_data:{board_id:n?.boardId,grid_index:4,is_profile_save:n?.type==="boardless",is_undo:!e,pin_id:r.entityId,suggested_boards_score_list:d}})}),eb(this,"setBoardWithSection",e=>{this.setState({boardWithSection:e})}),eb(this,"handleEditSubmit",({boardId:e,sectionId:t,url:i,title:a})=>{let{savedInfo:r}=this.props,n=r?.localPinId;this.updateSavedState({localPinId:n||"",boardId:e,sectionId:t||"",url:i,title:a})}),eb(this,"resetPinSavedState",()=>{this.updateSavedState({boardId:"",localPinId:"",sectionId:"",title:"",url:""})}),eb(this,"deleteSavedState",({isDisableToast:e,newPinId:t})=>{let{clientTrackingParams:i,fromEggsBoard:a,i18n:r,isEggsUi:n,logContextEvent:s,onDelete:l,pin:o,toastManagerContext:d,unsave:c,viewParameter:h,viewType:_}=this.props;c({pinId:o.entityId,nodeId:o.__id});let p=n||a?{aux_data:{board_id:o.savedInfo?.boardId,pin_id:o.entityId},event_context:{component:29,viewParameterType:h,viewType:_}}:null;t&&u.Z.create("PinResource",{id:t,client_tracking_params:i,...p}).callDelete().then(()=>{(n||a)&&!e&&this.setState({giftGuideSaveTarget:null}),e||((n||a)&&s({component:20,event_type:13,..._?{view_type:_}:Object.freeze({}),view_parameter:4072,aux_data:{board_id:o.savedInfo?.boardId,pin_id:o.entityId}}),d.showToast(({hideToast:e})=>(0,N.jsx)(x.Z,{dataTestId:"pin-better-save-removed-pin-toast",onHide:e,text:o.savedInfo?.boardId?r.bt("Se eliminó de tu tablero", "Removed from your board!", "PinBetterSave.SavedPin.RemovedFromYourBoard", undefined, true):r.bt("Se eliminó el Pin", "Pin removed!", "PinBetterSave.SavedPin.PinRemoved", undefined, true)})))}),l&&l()}),eb(this,"save",async({item:e,movedBoardTitle:t})=>{let{onClickCallback:i,requireAuth:a}=this.props;if(a){a();return}let{addNewPinToPinsFeed:r,fromEggsBoard:n,i18n:s,isEggsUi:l,isLimitedLogin:o,mostRecentBoard:d,pin:c,postRepinMoreIdeasUpsell:u,postRepinUpsellDisabled:h,save:_,setMostRecentBoard:p,toastManagerContext:g,showEmailVerificationReminderModal:m,logContextEvent:b,mountAfterActionPlacement:v,viewType:S}=this.props;this.updateSavedState(e);let P=!!e.sectionId,w="boardless"===e.type;try{let{resource_response:{data:a}}=await this.getPinResource(e).callCreate({showError:!1}),o=e.url,{incrementBoardPinCount:m,updateUserPinCount:y,viewerUserId:f}=this.props;if(!n&&!h&&o&&!w&&Q({boardId:e.boardId??"",boardUrl:o,postRepinMoreIdeasUpsell:u})&&g.showToast(({hideToast:t})=>(0,N.jsx)(U,{boardId:e.boardId??"",boardName:e.title??"",boardUrl:o,onHide:t})),_({pinId:c.entityId,nodeId:c.__id,boardId:e.boardId??(a.board.id||""),localPinId:a.id?a.id:e.localPinId??"",score:e.score??void 0,sectionId:e.sectionId??"",title:e.title??(a.board.title||""),type:e.type??"",url:e.url??(a.board.url||""),localPin:a}),this.props.onPinCreate&&this.props.onPinCreate({boardId:a.board.id,pinId:a.id}),m({boardId:e.boardId??"",sectionId:e.sectionId}),l||n){let{board:t}=a;this.setState({giftGuideSaveTarget:{boardId:t.id,localPinId:a.id,sectionId:t.sectionId,title:e.title||t.name,type:t.type,url:t.url}})}y(f);let I=e.sectionId?e.sectionId:e.boardId;w?(I=f,r(I,a.id,!1,w)):r(I??"",a.id,P,!1);let{id:A,images:k,board:C}=a,T=k["236x"];this.updateSavedState({...e,localPinId:A}),g.showToast(({hideToast:i})=>t?((l||n)&&b({component:20,event_type:13,...S?{view_type:S}:Object.freeze({}),view_parameter:4072,aux_data:{board_id:e.boardId??(a.board.id||""),pin_id:c.entityId}}),(0,N.jsx)(x.Z,{onHide:i,text:(0,j.nk)(s.bt("Se movió a {{ boardName }}", "Moved to {{ boardName }}", "PinBetterSave.SavedPin.MovedToBoard", undefined, true),{boardName:t}).join("")})):((l||n)&&b({aux_data:{board_id:e.boardId??(a.board.id||""),pin_id:c.entityId},component:20,event_type:13,view_parameter:3999,...S?{view_type:S}:Object.freeze({})}),(0,N.jsx)(V.Z,{boardName:(e.title||C.name)??"",boardUrl:e.url||C.url,isBoardlessPin:w,onHide:i,onUndo:()=>this.deleteSavedState({newPinId:A}),pinImageUrl:T.url}))),v("Save",{is_promoted:c.isPromoted,isRepinTakeover:l||n,pin_id:c.entityId}),d&&e.boardId!==d.id&&!w&&p(e.boardId??"",e.title??"",e.url??""),"function"==typeof i&&i()}catch(e){(0,y.Z)(e,"api_error_code")===I.H9?m():o||f.Z.showError((0,y.Z)(e,"message_detail")||(0,y.Z)(e,"message")||""),this.resetPinSavedState()}}),eb(this,"hideFlyout",(e=!1)=>{let{isEggsUi:t,onToggleFlyout:i}=this.props;this.setState({showBoardFlyout:!1}),!t&&i&&i(!1,e)})}componentDidMount(){let{autoQuicksaveCallback:e,onMount:t,shouldAutoQuicksave:i}=this.props;this.updateSelectedItem(),t&&t(),i&&(this.save({item:{boardId:"",url:"/me/",title:"Profile",type:"boardless"}}),e?.())}componentDidUpdate(){this.state.hasItemSelected||this.updateSelectedItem()}getPinResource(e){let{carouselData:t,clientTrackingParams:i,fromEggsBoard:a,isEggsUi:r,pin:n,getStringifiedCommerceAuxData:s,shuffleAsset:l,viewParameter:o,viewType:d}=this.props,c=t&&t.index,h=r||a?{component:29,viewParameter:o,viewType:d}:null,_={carousel_slot_index:c||0,clientTrackingParams:i,description:n.description||"",featured_feed_type:r||a?52:null,image_base64:n.imageBase64,is_buyable_pin:!1,is_promoted:n.isPromoted,is_removable:n.promotedIsRemovable,link:n.link,pin_id:n.entityId||"",title:n.title||"",...h&&{eventContext:h,aux_data:{board_id:e?.boardId,is_saved_to_wishlist:!0,pin_id:n.entityId}},...l?{shuffle_asset:l.entityId}:{},...e.boardId&&"boardless"!==e.type?{board_id:e.boardId}:null,...e.sectionId?{section:e.sectionId}:null,...s()};return u.Z.create("RepinResource",_)}showFlyout(){let{isEggsUi:e,onToggleFlyout:t}=this.props;this.setState({showBoardFlyout:!0}),!e&&t&&t(!0,!0)}isViewerEligibleForBoardCollabUpsell(e){let{viewer:t,checkExperiment:i,savedInfo:a}=this.props;if(t?.isAuth&&e&&i){let r=C.ZP.getItem(h.zq)||"0",n=new Date,s=Number(r)<n.getTime()-6048e5,l=(t.boardCount??0)>=2&&(t.pinCount??0)>=3,o=!e.is_collaborative&&!!e.url&&e.url.split("/")[1]===t.username,d=l&&o&&s;return d?!!a?.boardId||i("sg_web_post_repin_board_create_upsell_bugfix").anyEnabled:d}return!1}render(){let{boardResource:e,carouselData:t,checkExperiment:i,clientTrackingParams:a,fromEggsBoard:r,hideAlreadySavedMsg:n,i18n:s,isEggsUi:l,onToggleModal:o,pin:d,renderPinSaveTooltip:u,renderSavedStatus:h,savedInfo:_,savedCutout:p,selectedItem:g,unselectedText:m,variant:y,viewer:f,viewParameter:x,hideDropdown:S,showSaveToProfile:P,shuffleAsset:w,nodeRef:j}=this.props,{boardWithSection:I,giftGuideSaveTarget:A,showBoardFlyout:k,showRepinModal:C,sensitiveContentNotice:T,suggestedBoardTitle:B}=this.state,E=_||p,z="closeup"===y&&f?.isAuth&&i("web_curation_brv_navigate_to_board_from_closeup").anyEnabled;(l||r)&&A&&(E=A);let R=l||r&&i("web_easy_gift_guide_saving").anyEnabled,F=E?.title&&R,{entityId:L,imageSignature:Z}=d,M=(0,N.jsx)(D.xH,{boardResource:e,buttonText:F?s.bt("Mover", "Move", "pinBetterSave.boardFlyout.boardMoveCta", undefined, true):void 0,clientTrackingParams:a,headerText:F?s.bt("Mover", "Move", "pinBetterSave.boardFlyout.boardMoveCta", undefined, true):void 0,hideAlreadySavedMsg:n,imageSignature:Z,onBoardCreate:this.handleBoardCreate,onItemChosen:this.handleItemChosen,pinId:L,sectionText:F?s.bt("Mover a un subtablero", "Move to Section", "pinBetterSave.boardFlyout.boardMoveCta", undefined, true):void 0,selectedItem:g,setBoardWithSection:this.setBoardWithSection,showSaveToProfile:P,surfaceOriginViewParameter:x}),K=()=>{this.logClickEvent({isSaveClick:!1}),this.deleteSavedState({newPinId:E?.localPinId??""})},U=async()=>{await K()};return(0,N.jsx)(b.Z,{name:"PinBetterSave",children:(0,N.jsxs)(c.xu,{ref:j??void 0,"data-test-id":"pin-better-save-button",display:["closeup","media-viewer"].includes(y)?"flex":void 0,height:"closeup"===y||"media-viewer"===y?void 0:60,justifyContent:z?"end":void 0,children:[E?.title&&!F?(0,N.jsx)(J.Z,{clientTrackingParams:a,currentCarouselIndex:t&&t.index,dropdownRef:this.dropdownRef,onDeleteSavedState:K,onEditSubmit:this.handleEditSubmit,onToggleModal:o,pinId:E.localPinId,shouldUseLegoStyles:!0,variant:y,viewParameter:x,children:h&&E&&h({handleBoardDropdownClick:this.handleBoardDropdownClick,savedInfo:E,showBoardFlyout:k,variant:y})}):(0,N.jsx)(O,{dropdownRef:this.dropdownRef,fromEggsBoard:r,hideDropdown:S||(l||r)&&!A,isEggsUi:l,isSaved:!!E?.title,onBoardDropdownClick:this.handleBoardDropdownClick,onSaveClick:F?U:this.handleSaveClick,promotedIsLeadAd:d.promotedIsLeadAd,renderPinSaveTooltip:u,selectedTitle:A?.title||g?.title,showBoardFlyout:k,unselectedText:m,view:y}),(0,N.jsx)(ep,{action:"create",additionalCreateFields:{is_stl_pin:(d.shoppingFlags??[]).includes(2)},boardWithSection:I,clientTrackingParams:a,onClose:this.handleRepinHide,pinKey:d,setCompletionPromise:this.setBoardSaveCompletionPromise,shouldHideToast:this.state.showBoardCollabUpsell,shuffleAssetKey:w,urlPinInfo:null,children:({boardSavedTo:e,dismissModal:t,displaySuccessAnimation:i,handleAbort:a,handleNewBoardAnimationCompletion:r,handleSaveToBoard:n,newPin:s,updateDescription:l,modalTitle:o,setModalTitle:c})=>(0,N.jsx)(eg.Z,{boardSavedTo:e,boardWithSection:I,dismissModal:t,displaySuccessAnimation:i,handleAbort:a,handleNewBoardAnimationCompletion:r,handleSaveToBoard:n,isInModal:!0,modalTitle:o,newPin:s,onBoardCreated:this.handleBoardCreated,pinKey:d,pwtAuxData:{pin_create_method:"repin"},sensitiveContentNotice:T,setModalTitle:c,shouldRenderContent:C,showCreate:!0,shuffleAssetKey:w,suggestedBoardTitle:B,updateDescription:l,urlPinInfo:null})}),k&&(0,N.jsx)(c.mh,{zIndex:new c.H3([ee.k]),children:(0,N.jsx)(c.J2,{anchor:this.dropdownRef.current,idealDirection:"down",onDismiss:this.hideFlyout,positionRelativeToAnchor:!1,size:"xl",children:M})}),(0,N.jsx)(v.k6,{placementId:1000578})]})})}}eb(ex,"defaultProps",{variant:"pin",renderSavedStatus:({savedInfo:e,variant:t})=>(0,N.jsx)(ev,{savedInfo:e,variant:t})});let eS=(0,l.memo)(function({fromEggsBoard:e,pinKey:t,shuffleAssetKey:i,...a}){let{logContextEvent:r}=(0,_.v)(),n=(0,w.ZP)(),s=(0,d.TH)(),{checkExperiment:c}=(0,A.F)(),u=s.state?.board,h=(0,S.Z)(ey,t),p=(0,S.Z)(ef,i),b=e?u:h.selectedItem,y=(0,k.Z)({name:"BoardPickerBoardsResource",options:{field_set_key:"board_picker"}}),f=(0,k.Z)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:h.entityId,shortlist_length:1,num_shortlist_suggestions:1,suggestions_only:!0,min_confidence:.5}}),x=ea.W()?.onPinCreate,j=(0,B.F9)(),{showEmailVerificationReminderModal:I}=(0,m.y9)(),C=(0,R.Z)(),T=(0,o.I0)(),E=(0,o.v9)(({mostRecentBoard:e})=>e),{previous:L}=(0,P.Hv)(),D=(0,P.aX)(),Z=(0,o.v9)(({ui:e})=>e.postRepinMoreIdeasUpsell),O=h&&h.board?.layout!=="default",{initialSelection:K}=a,U=K?.title||"",H=!0,{showEnabledSaveBehavior:W}=(0,er.ZP)(C.id||""),G=(0,v.cO)(),{closeupWithinMasonryEnabled:$,setAbortNoActionPlacementTimeout:q}=(0,F.x4)(),Y={boardId:"",title:n.bt("Perfil", "Profile", "pinBetterSave.initialSelection.boardlessPinsOption", undefined, true),type:"boardless",url:"/me/"},X=(0,g.Z)();if(!K){let e=f&&f.data&&f.data[0];K=h.board?.name&&!O&&h.board.owner?.entityId===C.id&&{title:h.board.name,boardId:h.board.entityId,url:h.board.url??""}||h.recommendationReason?.board&&{title:h.recommendationReason.board.name??"",boardId:h.recommendationReason.board.entityId??"",url:h.recommendationReason.board.url??""}||f&&f.isLoaded&&e&&{boardId:e.id,score:JSON.parse(e?.recommendation_reason??"{}").score,title:e.name,url:e.url}||f&&f.isLoaded&&!e&&W&&Y||f&&f.isLoaded&&!e&&E&&{boardId:E.id,title:E.name,url:E.url}||void 0,U=f&&f.isLoaded?n.bt("Seleccionar", "Select", "BetterSave label to pick a board from the list", undefined, true):"...",H=!1}let V=(0,z.Z)(h),J=(0,l.useCallback)(e=>{let t="cutout"===a.variant?M.o4:M.a1;(0,em.nP)(`web.closeup.media_viewer_stats.save.clicked_from.${a.variant}`),T(t(e))},[a.variant,T]),Q=(0,l.useCallback)(e=>{let t="cutout"===a.variant?M.ti:M.jg;(0,em.nP)(`web.closeup.media_viewer_stats.unsave.clicked_from.${a.variant}`),T(t(e))},[a.variant,T]);return(0,N.jsx)(ex,{...a,addNewPinToPinsFeed:(e,t,i,a)=>{let r=i?ec.Z.BOARD_SECTION_PINS:ec.Z.BOARDFEED;a&&(r=ec.Z.BOARDLESS_PINS),T((0,el.vX)({feedId:e,feedType:r,itemIds:[t],itemType:"pin"}))},boardResource:y,carouselData:h&&h.carouselData,checkExperiment:c,closeupShownWithinMasonry:$,currentHistoryStack:D,fromEggsBoard:e,getStringifiedCommerceAuxData:V,i18n:n,incrementBoardPinCount:({boardId:e,sectionId:t})=>T((0,en.Br)({boardId:e,sectionId:t,increment:1})),initialSelection:K,isLimitedLogin:C.isLimitedLogin,location:s,logContextEvent:r,mostRecentBoard:E,mountAfterActionPlacement:G,onPinCreate:x,pin:h,postRepinMoreIdeasUpsell:Z,postRepinUpsellDisabled:H,previousHistory:L,renderPinSaveTooltip:a.renderPinSaveTooltip,requireAuth:X,save:J,savedCutout:h.savedCutout??void 0,savedInfo:h.savedInfo??void 0,searchQueryInvalidated:e=>T((0,es.sb)(e)),selectBoardOrSection:e=>{T(("cutout"===a.variant?M.b6:M.Vp)(e))},selectedItem:b??void 0,setAbortNoActionPlacementTimeout:q,setMostRecentBoard:(e,t,i)=>T((0,eo.p)(e,t,i)),showEmailVerificationReminderModal:I,showSaveToProfile:W,shuffleAsset:p,toastManagerContext:j,unsave:Q,unselectedText:U,updateUserPinCount:e=>T((0,ed.JS)({userId:e,increment:1})),viewer:C,viewerUserId:C.isAuth?C.id:""})})},605244:(e,t,i)=>{i.d(t,{Z:()=>n});var a=i(883119),r=i(785893);let n=({image_url:e,naturalHeight:t,naturalWidth:i})=>(0,r.jsx)(a.xu,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,r.jsx)(a.zd,{height:48,rounding:2,wash:!0,width:48,children:(0,r.jsx)(a.Ee,{alt:"",naturalHeight:t,naturalWidth:i,src:e})})})},267081:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),r=i(49658),n=i(785893);function s(e){let{clientTrackingParams:t,children:i,currentCarouselIndex:s,dropdownRef:l,onDeleteSavedState:o,onEditSubmit:d,onToggleModal:c,pinId:u,variant:h,viewParameter:_,shouldUseLegoStyles:p}=e;return(0,n.jsxs)(a.xu,{ref:l,alignItems:"center",direction:"row",display:"flex",maxHeight:"100%",paddingX:"closeup"!==h||p?void 0:2,width:"closeup"===h?"100%":void 0,children:[i&&(0,n.jsx)(a.xu,{"data-test-id":"saved-info",flex:"grow",paddingX:1,children:i}),(0,n.jsx)(a.xu,{flex:"none",marginStart:"auto",paddingX:1,children:(0,n.jsx)(r.default,{carouselSlotCurrentIndex:s,clientTrackingParams:t,component:0,onDelete:o,onSubmit:d,onToggleModal:c,pinId:u,shouldUseLegoStyles:p,style:"pin"===h?{bgColor:"white",iconColor:"darkGray",size:"sm"}:{bgColor:"transparent",iconColor:"darkGray",size:"sm"},useLegoStyles:"pin"===h,viewParameter:_})})]})}},591412:(e,t,i)=>{i.d(t,{Z:()=>s});let a={row:0,section:0},r={row:-1,section:-1},n=()=>void 0;class s{constructor(e){this.index={...a},this.sections=e,this.updateCallback=n,this.selectItem=n}getIndex(){return this.index}isAtStart(){let{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){let{row:e,section:t}=this.index,i=this.sections[t]||[];return this.sections.length===t+1&&i.length===e+1}next(){if(this.isAtEnd())return;let{row:e,section:t}=this.index;e===r.row&&t===r.section?this.index={...a}:this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;let{row:e,section:t}=this.index;if(e===r.row&&t===r.section)this.index={...a};else if(e>0)this.index.row-=1;else{let e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){let{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index={...r},this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},401227:(e,t,i)=>{i.d(t,{Z:()=>o});var a=i(667294),r=i(883119),n=i(994699),s=i(785893);function l(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends a.Component{constructor(e){super(e),l(this,"setSelectedItemRef",e=>{this.selectedItemRef=e}),l(this,"handleIndexUpdate",e=>{let{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})}),l(this,"handleSelectItem",e=>()=>{let{disabled:t,onSelectItem:i}=this.props;t||i(e)}),l(this,"handleMouseEnter",e=>()=>{let{disabled:t,indexManager:i}=this.props;t||i.updateIndex(e)}),l(this,"handleMouseLeave",()=>{let{disabled:e,indexManager:t}=this.props;e||t.setInactive()}),l(this,"renderItems",(e,t)=>{let{renderItem:i}=this.props,{selectedIndex:a}=this.state,{row:n,section:l}=a||{},{customProps:o={},items:d,renderItem:c}=e,{isDisabled:u}=o,h=t===l,_=c||i;return _&&d.map((e,i)=>{let a=u?.(e)??!1,l=h&&i===n;return(0,s.jsx)(r.xu,{ref:!a&&l?this.setSelectedItemRef:null,"data-test-id":"board-selection",children:a?_({item:e,hovered:l,sectionProps:o}):(0,s.jsx)(r.iP,{fullWidth:!1,onMouseEnter:this.handleMouseEnter({section:t,row:i}),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:_({item:e,hovered:l,sectionProps:o})})},i)})}),l(this,"renderSections",()=>{let{renderSectionHeader:e,sections:t}=this.props;return t.map((t,i)=>(0,s.jsxs)(r.xu,{children:[e&&e(t,i),this.renderItems(t,i)]},i))});let{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){let{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){let e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;let i=e.getBoundingClientRect(),a=i.top,r=i.bottom,n=t.getBoundingClientRect(),s=n.top;r>=n.bottom?e.scrollIntoView(!1):a<=s&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){let{grow:e=!1,maxHeight:t,fetchMore:i}=this.props;return(0,s.jsx)(n.Z,{fetchMore:i,children:({setRef:i,onScroll:a})=>(0,s.jsx)(r.xu,{ref:e=>{this.containerRef=e,i(e)},flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:a,overflow:"auto",children:this.renderSections()})})}}},560104:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(883119),r=i(785893);let n={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function s(){return(0,r.jsx)(a.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",rounding:8,width:"100%",children:(0,r.jsx)(a.xu,{dangerouslySetInlineStyle:n,"data-test-id":"submit-button-spinner",display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function l({disabled:e,name:t,onClick:i,size:n,submitting:l,text:o}){return(0,r.jsxs)(a.xu,{"data-test-id":"submit-button",display:"flex",position:"relative",children:[l&&(0,r.jsx)(s,{}),(0,r.jsx)(a.zx,{color:"red",disabled:e||l,name:t,onClick:i,size:n,text:o,type:"submit"})]})}},291130:(e,t,i)=>{i.d(t,{Z:()=>w});var a,r,n=i(667294);i(167912);var s=i(883119),l=i(384609),o=i(144326),d=i(240760),c=i(785893);function u(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let h=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],_=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),p=e=>Math.PI/180*e;class g extends n.PureComponent{constructor(...e){super(...e),u(this,"animationTimer",null),u(this,"canvasRemovalTimer",null),u(this,"containerRef",(0,n.createRef)()),u(this,"buildCanvas",()=>{if(!this.containerRef.current)return null;let{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),i=2.5*e,a=document.createElement("canvas");return a.style.position="absolute",a.style.left=`${0-(i-t)/2}px`,a.style.top=`${0-(i-e)/2}px`,a.style.pointerEvents="none",a.style.width=`${i}px`,a.style.height=`${i}px`,a.style.overflow="visible",a.width=i,a.height=i,a}),u(this,"explode",()=>{let e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;let i=e.getContext("2d");t.prepend(e);let a=Array.from(Array(120)).map(()=>({x:e.width/2,y:e.height/2,radius:Math.round(_(10,30)),color:h[Math.floor(Math.random()*h.length)],degree:Number(_(0,360).toFixed(1)),speed:Math.round(_(0,25)),friction:.9,opacity:Number(_(0,.5).toFixed(1)),yVel:0,gravity:.04})),r=(e,t,i,a)=>{window.requestAnimationFrame(()=>r(e,t,i,a)),t.clearRect(0,0,i,a),e.forEach(e=>{e.x+=e.speed*Math.cos(p(e.degree)),e.y+=e.speed*Math.sin(p(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())})};i&&r(a,i,e.width,e.height),this.canvasRemovalTimer=setTimeout(()=>{t.removeChild(e)},(this.props.delay||0)+800)})}componentDidUpdate(e){let{delay:t,startAnimation:i}=this.props,{startAnimation:a}=e;i&&a!==i&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,c.jsx)(s.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}function m(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}u(g,"defaultProps",{delay:0});let b=void 0!==a?a:a=i(494119),y=void 0!==r?r:r=i(771589),f=e=>({pointerEvents:"none",opacity:e?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1}),v=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),x=(e,t,i,a)=>{let r,n;let s={},l=i.current?.getBoundingClientRect(),o=t.current?.getBoundingClientRect(),d=a.current?.getBoundingClientRect();if(o&&l&&d){s={left:l.left-o.left,top:l.top-o.top};let e={x:d.left-l.left,y:d.top-l.top},t={x:(d.width-l.width)/2,y:(d.height-l.height)/2};r=`translate(${e.x}px, ${e.y}px)`,n=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:s.left,top:s.top,width:e?d?.width:l?.width,height:e?d?.height:l?.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?r:"none",transform:e?r:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:l?.width,height:l?.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?n:"none",transform:e?n:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}},S=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class P extends n.PureComponent{constructor(...e){super(...e),m(this,"state",{isInitialized:!1}),m(this,"containerRef",(0,n.createRef)()),m(this,"pinDestinationRef",(0,n.createRef)())}componentDidMount(){window.requestAnimationFrame(()=>{this.setState({isInitialized:!0})})}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(){let{isInitialized:e}=this.state,{onDismiss:t}=this.props;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}render(){let{pin:e,firstRepin:t,pinImageRef:i,selectedBoardName:a,shuffleAsset:r}=this.props,l=r?.cutoutImages??e?.imageSpec_236x,o=e?.description??"",u=l?.height??1,h=l?.width??1,_=l?.url??"",{isInitialized:p}=this.state,{mask:m,imageContainer:b}=x(p,this.containerRef,i,this.pinDestinationRef);return(0,c.jsx)(n.Fragment,{children:(0,c.jsxs)(s.xu,{ref:this.containerRef,bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:[(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:m},maxHeight:335,overflow:"hidden",children:(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:b},children:(0,c.jsx)(s.Ee,{alt:o,naturalHeight:u,naturalWidth:h,src:_})})}),(0,c.jsx)(s.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:f(p)},left:!0,position:"absolute",right:!0,top:!0,children:(0,c.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:v(p)},direction:"column",display:"flex",height:"100%",justifyContent:"center",children:[(0,c.jsx)(g,{delay:1250,startAnimation:p,children:(0,c.jsx)(s.zd,{height:180,rounding:2,width:270,children:(0,c.jsxs)(s.kC,{alignItems:"stretch",height:"100%",justifyContent:"start",width:"100%",children:[(0,c.jsx)(s.xu,{ref:this.pinDestinationRef,color:"transparent",flex:"grow",height:"100%",marginEnd:1}),(0,c.jsxs)(s.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:80,children:[(0,c.jsx)(s.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,c.jsx)(s.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,c.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:S(p)},"data-test-id":"board-saved-heading",paddingX:2,children:(0,c.jsx)(s.X6,{align:"center",children:t?(0,d.nk)(this.props.i18n.bt("¡Guardaste tu primer Pin en {{ selectedBoardName }}!", "You saved your first Pin to {{ selectedBoardName }}!", "First board create confirmation message", undefined, true),{selectedBoardName:a??""}):(0,d.nk)(this.props.i18n.bt("¡Guardaste este Pin en {{ selectedBoardName }}!", "You saved this Pin to {{ selectedBoardName }}!", "Board create confirmation message", undefined, true),{selectedBoardName:a??""})})})]})})]})})}}function w({pinKey:e,shuffleAssetKey:t,...i}){let a=(0,o.ZP)(),r=(0,l.Z)(b,e),n=(0,l.Z)(y,t);return(0,c.jsx)(P,{...i,i18n:a,pin:r,shuffleAsset:n})}m(P,"defaultProps",{firstRepin:!1})},983542:(e,t,i)=>{i.d(t,{Az:()=>b,DI:()=>x,Gl:()=>w,Hl:()=>B,NA:()=>a,NG:()=>d,OC:()=>C,Pq:()=>A,QM:()=>p,Sk:()=>P,UF:()=>f,Uo:()=>k,WF:()=>l,Xm:()=>c,Zf:()=>n,_N:()=>_,ac:()=>s,dt:()=>m,e_:()=>h,gf:()=>y,hf:()=>j,i_:()=>o,jY:()=>v,ni:()=>S,qg:()=>u,rX:()=>r,vX:()=>I,yG:()=>g,yq:()=>T});let a="10",r=1,n=365,s=64,l=8,o=9,d=11,c=15,u=16,h=17,_=18,p=19,g=20,m=22,b=1e6,y=1e6,f="US";function v(e){let t="USD",i="$";switch(e){case"AT":case"BE":case"DE":case"ES":case"FI":case"FR":case"IE":case"IT":case"NL":case"PT":t="EUR",i="€";break;case"AU":t="AUD",i="$";break;case"CA":t="CAD",i="$";break;case"CH":t="CHF",i="CHF";break;case"DK":t="DKK",i="kr";break;case"GB":t="GBP",i="£";break;case"NO":t="NOK",i="kr";break;case"NZ":t="NZD",i="$";break;case"SE":t="SEK",i="kr"}return[t,i]}let x={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},S={AU:{budget:10,duration:"10"},CA:{budget:9,duration:"10"},CZ:{budget:150,duration:"10"},FR:{budget:7,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:7,duration:"10"},NZ:{budget:10,duration:"10"},US:{budget:7,duration:"10"},AT:{budget:7,duration:"10"},DE:{budget:7,duration:"10"},IT:{budget:7,duration:"10"},ES:{budget:7,duration:"10"},NL:{budget:7,duration:"10"},PT:{budget:7,duration:"10"},BE:{budget:7,duration:"10"},CH:{budget:7,duration:"10"},SE:{budget:70,duration:"30"},NO:{budget:70,duration:"30"},DK:{budget:50,duration:"30"},FI:{budget:7,duration:"10"}},P={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},w={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},j="QUICK_PROMOTE_PAGE",I=[w.GDPR_MODAL,w.PIN_SELECTION_MODAL,j,w.BUSINESS_FORM,w.BILLING_FORM,w.SUCCESS_MODAL,w.ERROR_MODAL],A={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},k=e=>e>=1&&e<=2,C="qp-fac-education-id",T="qp-fac-modal-education-id",B={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"}},990949:(e,t,i)=>{i.d(t,{Z:()=>d});var a=i(883119),r=i(144326),n=i(240760),s=i(383399),l=i(785893);function o(e){let t=e?.imageMediumUrl??e?.image_medium_url??"",i=e?.avatar_color_index??void 0;return{name:e?.fullName??e?.full_name??"",color:i,src:"https://s.pinimg.com/images/user/default_75.png"===t?void 0:t}}function d({board:e,forceViewer:t,isCompact:i,ownerOnly:d}){let c=(0,r.ZP)(),u=(0,s.Z)(),h=d?[o(e?.owner)]:(function(e,t,i){let{collaborated_by_me:a,collaborating_users:r,owner:n}=e??{},s=r??[],l=[n];if(a||i){let e=s.findIndex(e=>t.isAuth&&e.id===t.id);if(-1!==e){let t=s.splice(e,1)[0];l.push(t)}else l.push(t)}return[...l,...[...s].sort((e,t)=>(e.full_name??"")>(t.full_name??"")?1:(t.full_name??"")>(e.full_name??"")?-1:0)]})(e,u,t).map(o),_=h.slice(0,3).map(e=>e.name),p="";switch(h.length){case 3:p=(0,n.Wc)(`${c.bt("{{ first }}, {{ second }} y {{ last }}", "{{ first }}, {{ second }}, and {{ last }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars", undefined, true)}`,{first:`${_[0]??""}`,second:`${_[1]??""}`,last:`${_[2]??""}`});break;case 2:p=(0,n.Wc)(`${c.bt("{{ first }} y {{ second }}", "{{ first }} and {{ second }}", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars", undefined, true)}`,{first:`${_[0]??""}`,second:`${_[1]??""}`});break;default:p=_.join(", ")}let g=h.length>3?(0,n.Wc)(`, ${c.nbt(["Colaboradores: {{ userNames }} y {{ leftCount }} más.", "Colaboradores: {{ userNames }} y {{ leftCount }} más."], h.length - 3, "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree", true)}`,{userNames:p,leftCount:`${h.length-3}`}):(0,n.Wc)(`, ${c.bt("Colaboradores: {{ userNames }}.", "Collaborators: {{ userNames }}.", "CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree", undefined, true)}`,{userNames:p});return(0,l.jsx)(a.HE,{accessibilityLabel:g,collaborators:h,size:i?"xs":"sm"})}},476310:(e,t,i)=>{function a(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function r(e,t){return{type:"SECTION_DELETED",payload:{boardId:e,sectionId:t}}}i.d(t,{HG:()=>r,OQ:()=>n,hd:()=>a});let n=(e,t)=>({type:"BOARD_SECTION_EDIT",payload:t})},465256:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(252071),r=i(338623),n=i(880560),s=i(476310),l=i(701842),o=i(344502),d=i(403764);function c({boardId:e,sourceBoardId:t="",sourceSectionId:i="",name:c,nameSource:u,pinImport:h,initialPinIds:_=[]},p,g,m){let b=0;"RECOMMENDATION"===u?b=1:"EDITED_RECOMMENDATION"===u&&(b=2);let y={board_id:e,initial_pins:h&&!h.all?h.pinIds:_,name:c,name_source:b,...g?{orbac_subject_id:g}:Object.freeze({})};return c=>a.Z.create("BoardSectionResource",y).callCreate({showError:!1}).then(({resource_response:{data:a}})=>{m({event_type:7100,object_id_str:a.id}),c((0,s.hd)(e,a)),c((0,l.vX)({feedId:e,feedType:d.Z.BOARD_SECTIONS,itemIds:[a.id],itemType:"boardsection"})),c((0,n.Z)(e,"pin_count")),c((0,r.jB)("BoardSectionsRepinResource",{board_id:e,orbac_subject_id:g}));let{all:u,pinIds:_}=h||{all:!1,pinIds:[]};return u?new Promise((r,n)=>c((0,o.Z)({inverseSelection:!0,selectedPinIds:_,source:{boardId:t||e,sectionId:i||null},target:{boardId:e,sectionId:a.id}},p)).then(()=>r(a)).catch(n)):(_.length>0&&c((0,l.N8)(d.Z.BOARDFEED,e)),a)})}},880560:(e,t,i)=>{i.d(t,{Z:()=>r});var a=i(468808);function r(e,t,i){return(0,a.U)("BoardResource",{options:{board_id:e,field_set_key:t,...i?{orbac_subject_id:i}:{}}})}},873737:(e,t,i)=>{i.d(t,{p:()=>a});let a=(e,t,i)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:i}})},344502:(e,t,i)=>{i.d(t,{Z:()=>p,S:()=>_});var a=i(252071),r=i(880560),n=i(508629),s=i(701842),l=i(255507),o=i(403764),d=i(785020);let c=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t.bt("Espera hasta que se termine la acción de tablero anterior.", "Please wait until the previous board action finishes.", " - ", undefined, true);default:return e.message}}(t,e))},u=e=>(0,s.N8)(e.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,e.sectionId||e.boardId);function h(e,t){let{source:i,target:a}=e;a.boardId!==i.boardId?(t((0,r.Z)(i.boardId,"pin_count")),t((0,r.Z)(a.boardId,"pin_count"))):i.sectionId&&a.sectionId||t((0,r.Z)(a.boardId,"pin_count")),i.sectionId&&t((0,n.Z)(i.sectionId)),a.sectionId&&t((0,n.Z)(a.sectionId))}function _(e){return t=>{let{selectedPinIds:i,source:a,target:r}=e;t((0,s.EX)({feedId:a.sectionId||a.boardId,feedType:a.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:i,itemType:"pin"})),t((0,s.vX)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:i,itemType:"pin"})),i.forEach(e=>{t((0,l.Vp)({pinId:e,boardId:r.boardId,sectionId:r.sectionId||void 0,title:r.name||""}))}),h(e,t)}}function p(e,t){return i=>{let{selectedPinIds:r,target:n}=e;return r.forEach(e=>{i((0,l.Vp)({pinId:e,boardId:n.boardId,sectionId:n.sectionId||void 0,title:n.name||""}))}),(function(e,t,i){let{inverseSelection:r,selectedPinIds:n,source:l,target:d,orbacSubjectId:h}=e;if(l.boardId===d.boardId&&(l.sectionId||null)===(d.sectionId||null))return Promise.reject();if(r){let e={board_id:l.boardId,new_board_id:d.boardId,old_section_id:l.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:n,orbac_subject_id:h};return a.Z.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then(()=>Promise.all([t(u(l)),t(u(d))])).catch(c(i))}{let e=(e,i)=>{t((0,s.EX)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:n,itemType:"pin"})),t((0,s.vX)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?o.Z.BOARD_SECTION_PINS:o.Z.BOARDFEED,itemIds:n,itemType:"pin"}))};e(l,d);let r=()=>e(d,l);if(d.boardId===l.boardId){if(d.sectionId){let e={section_id:d.sectionId,pins:n,orbac_subject_id:h};return a.Z.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(i)(e)})}{let e={section_id:l.sectionId,pins:n,orbac_subject_id:h};return a.Z.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch(e=>{r(),c(i)(e)})}}{let e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:n,orbac_subject_id:h};return a.Z.create("BulkEditResource",e).callUpdate({showError:!1}).catch(e=>{r(),c(i)(e)})}}})(e,i,t).then(()=>h(e,i))}}},633493:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(667294),r=i(883119),n=i(785893);function s(e){let{accessibilityLabel:t,focused:i,id:s,onBlur:l,onChange:o,onFocus:d,placeholder:c,value:u,size:h="lg"}=e,_=(0,a.useRef)(null);return(0,a.useEffect)(()=>{if(i){let e=_.current;window.requestAnimationFrame(()=>{let t=e&&e.querySelector("input");t instanceof HTMLInputElement&&t.focus()})}},[i]),(0,n.jsx)(r.xu,{ref:_,children:(0,n.jsx)(r.Um,{accessibilityLabel:t,id:s,onBlur:l,onChange:o,onFocus:d,placeholder:c,size:h,value:u})})}},411886:(e,t,i)=>{i.d(t,{W:()=>c,Z:()=>u});var a=i(883119),r=i(640498),n=i(144326),s=i(912355),l=i(605244),o=i(684860),d=i(785893);function c(e,t=""){let i=e&&e.length>1?RegExp(e,"i"):"";return e&&e.length>1?t.split(i).reduce((i,a)=>{if(i.length>0&&e&&e.length){let r=t.toLowerCase().indexOf(e.toLowerCase());return i.concat(t.substring(r,r+e.length),a)}return[a]},[]):t}let u=function(e){let t=(0,n.ZP)(),{disabled:i,item:u,isSection:h,isSelectMode:_,isWithinSectionPicker:p,saveState:g,searchQuery:m,selected:b}=e,y=h?null:u,f=h?u:null,v=f&&f.title||y&&y.name||"",x="",S=!1,P="",w=0;y&&({image_cover_url:x,is_collaborative:S,privacy:P,section_count:w=0}=y);let j=c(m,v),I=P===r.ZP.BoardPrivacy.SECRET,A=!i&&(b||!!g),k=!p&&"number"==typeof w&&w>0,C="number"==typeof w&&w>0?"boardWithSection":"boardWithoutSection",T=_?t.bt("Seleccionar", "Select", "Board select button label", undefined, true):t.bt("Guardar", "Save", "Pin save button label", undefined, true);return(0,d.jsxs)(a.xu,{alignItems:"center",color:A?"secondary":"default","data-test-id":C,display:"flex",height:64,marginEnd:2,marginStart:2,marginTop:1,padding:2,rounding:3,children:[y&&(0,d.jsx)(a.xu,{color:"secondary",flex:"none",height:48,marginEnd:2,overflow:"hidden",rounding:2,width:48,children:x&&(0,d.jsx)(a.Ee,{alt:t.bt("Imagen de portada del tablero", "Board cover image", "boardPickerRow.image.altText", undefined, true),fit:"cover",naturalHeight:1,naturalWidth:1,src:x})}),f&&!!f.preview_pins?.length&&(0,d.jsx)(l.Z,{image_url:f.preview_pins[0].image_square_url??"",naturalHeight:f.preview_pins[0].image_square_size_pixels?.height??1,naturalWidth:f.preview_pins[0].image_square_size_pixels?.width??1}),(0,d.jsxs)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,d.jsx)(a.xv,{color:i?"subtle":"default",lineClamp:1,size:"300",weight:"bold",children:j}),(k||!A)&&(0,d.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[I&&(0,d.jsx)(o.Z,{type:"secret"}),S&&(0,d.jsx)(s.Z,{board:y,showCollaborativeIcon:S,useLegoLayout:!0}),k&&(0,d.jsx)(o.Z,{type:"sections"})]}),!k&&A&&!g&&(0,d.jsx)(a.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,d.jsx)(a.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:T})}),!k&&A&&"loading"===g&&(0,d.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,d.jsx)(a.$j,{accessibilityLabel:t.bt("Guardar", "Saving", "Accessibility label for saving a pin to a board", undefined, true),show:!0})})]})]})}},684860:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),r=i(144326),n=i(785893);let s=function({type:e}){let t=(0,r.ZP)(),i={group:{accessibilityLabel:t.bt("tablero de grupo", "group board", "Board picker group board icon", undefined, true),icon:"people"},protected:{accessibilityLabel:t.bt("tablero protegido", "protected board", "Board picker protected board icon", undefined, true),icon:"protect"},secret:{accessibilityLabel:t.bt("Tablero secreto", "secret board", "Board picker secret board icon", undefined, true),icon:"lock"},sections:{accessibilityLabel:t.bt("tablero con subtableros", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t.bt("tablero con subtableros", "board with sections", "Board picker board with sections icon", undefined, true),icon:"arrow-down"}}[e];return(0,n.jsx)(a.xu,{marginStart:1,children:(0,n.jsx)(a.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,n.jsx)(a.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:"12"}):(0,n.jsx)(a.JO,{accessibilityLabel:i.accessibilityLabel,color:"default",icon:i.icon,size:16})})})}},564665:(e,t,i)=>{i.d(t,{Z:()=>h});var a=i(667294),r=i(883119),n=i(573706),s=i(144326),l=i(961754),o=i(785893);function d(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends a.Component{constructor(...e){super(...e),d(this,"state",{isHovering:!1}),d(this,"onHover",()=>{this.setState({isHovering:!0})}),d(this,"offHover",()=>{this.setState({isHovering:!1})})}render(){let{name:e,selected:t,image:i,inFlyoutExp:a}=this.props;return a?(0,o.jsxs)(r.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",onMouseOut:this.offHover,onMouseOver:this.onHover,paddingX:4,paddingY:2,children:[(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.zd,{height:40,rounding:2,width:40,children:this.state.isHovering&&i&&i.url?(0,o.jsx)(r.Ee,{alt:"",color:"",fit:"cover",naturalHeight:i.height??1,naturalWidth:i.width??1,src:i.url}):(0,o.jsx)(r.xu,{color:"secondary",height:40,width:40})})}),(0,o.jsx)(r.xu,{padding:2,children:(0,o.jsx)(r.X6,{size:"400",children:e})})]}):(0,o.jsxs)(r.xu,{alignItems:"center",color:t?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.JO,{accessibilityLabel:"",color:t?"default":"subtle",icon:"add"})}),(0,o.jsx)(r.xu,{marginStart:3,children:(0,o.jsx)(r.xv,{color:t?"default":"subtle",weight:"bold",children:e})})]})}}let u=e=>(0,a.useMemo)(()=>e&&e.length?e.map(e=>e.title):[],[e]),h=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:i,image:d,minHeight:h,onBoardSelected:_})=>{let{logContextEvent:p}=(0,n.v)(),g=(0,s.ZP)(),[m,b]=(0,a.useState)(-1),{data:y=[],isLoaded:f}=(0,l.Z)({name:"ApiResource",options:{url:`/v3/pins/${String(i)}/board_title_suggestions/`,pin_id:i}}),v=u(y),x=e=>{_(v[e],!1),p({event_type:101,component:13025,element:23})},S=e=>{b(e)},P=()=>{b(-1)},w=(t,i)=>{let a=m===i;return(0,o.jsx)("li",{children:(0,o.jsx)(r.iP,{onMouseEnter:()=>S(i),onMouseLeave:P,onTap:()=>x(i),children:(0,o.jsx)(c,{image:d,inFlyoutExp:e,name:t,selected:a})})},i)};return f?v&&v.length?e?(0,o.jsx)(r.xu,{children:(0,o.jsx)("ul",{children:v.map(w)})}):t?(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xu,{marginBottom:3,marginStart:6,marginTop:5,children:(0,o.jsx)(r.xv,{children:g.bt("Nombres sugeridos para tu tablero", "Suggested board names", "text above suggested board names list", undefined, true)})}),(0,o.jsx)("ul",{children:v.map(w)})]}):(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xu,{marginTop:2,paddingX:5,children:(0,o.jsx)(r.xv,{children:g.bt("Nombres sugeridos para tu tablero", "Suggested board names", " - ", undefined, true)})}),(0,o.jsx)("ul",{children:v.map(w)})]}):null:(0,o.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:h||"",children:(0,o.jsx)(r.$j,{accessibilityLabel:g.bt("Cargando sugerencias de tablero", "Loading board suggestions", "Accesibility label for loading board suggestions", undefined, true),show:!0})})}},589681:(e,t,i)=>{i.d(t,{Z:()=>l});var a=i(883119),r=i(144326),n=i(191851),s=i(785893);function l(e){let t=(0,r.ZP)(),{buttonLabel:i,hasHoverState:l,name:o,onClick:d}=e,{isHovering:c,hoverHandlers:u}=(0,n.Z)(),h=o||i||t.bt("Crear tablero", "Create board", " - ", undefined, true);return(0,s.jsx)(a.iP,{onMouseEnter:u.onMouseOver,onMouseLeave:u.onMouseLeave,onTap:d,children:(0,s.jsxs)(a.xu,{alignItems:"center",color:l&&c?"secondary":"default",display:"flex",height:"100%",padding:4,width:"100%",children:[(0,s.jsx)(a.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,rounding:2,children:(0,s.jsx)(a.JO,{accessibilityLabel:"",color:"default",icon:"add",size:20})}),o?(0,s.jsx)(a.xu,{margin:1,children:(0,s.jsxs)(a.xv,{inline:!0,overflow:"normal",children:[" ",t.bt("Crea: ", "Create: ", " - ", undefined, true)," "]})}):null,(0,s.jsxs)(a.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",h," "]})]})})}},150333:(e,t,i)=>{i.d(t,{Z:()=>b});var a=i(667294),r=i(545007),n=i(883119),s=i(488792),l=i(144326),o=i(611735),d=i(383399),c=i(501912),u=i(801621),h=i(560104),_=i(465256),p=i(785893);function g(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends a.Component{constructor(e){super(e),g(this,"onCreateSection",()=>{let{board:e,sourceBoard:t,sourceSection:i,dispatch:a,completeCreateSectionAction:r,pinImport:n,viewer:s,orbacActingAs:l,logContextEvent:o}=this.props,d=(0,u.lJ)(s,l);return this.setState({isSaving:!0}),a((0,_.Z)({boardId:e.id,sourceBoardId:t&&t.id,sourceSectionId:i&&i.id,name:this.state.inputName.trim(),pinImport:n},this.props.i18n,d,o)).then(e=>{this.setState({isSaving:!1}),r(e)}).catch(e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})})}),g(this,"handleKeyDown",({event:e})=>{let{createError:t,inputName:i}=this.state;[o.Z.ENTER,o.Z.NUMPAD_ENTER].includes(e.which)&&!t&&i.trim()&&this.onCreateSection()}),g(this,"handleChangeName",({value:e})=>{this.setState({createError:null,inputName:e})}),g(this,"handleInputRef",e=>{this.setState({inputRef:e})}),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){let{createError:i,inputRef:a}=this.state;a&&(!t.inputRef||i)&&a.focus()}render(){let{showTitle:e,positionRelative:t}=this.props,{createError:i,inputName:a,isSaving:r}=this.state,s=!!a.trim()&&!i;return(0,p.jsxs)(n.xu,{bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},direction:"column",display:"flex",flex:"grow",position:t?"relative":"absolute",right:!0,rounding:2,top:!0,width:"100%",children:[e&&(0,p.jsx)(n.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,p.jsx)(n.X6,{size:"400",children:this.props.i18n.bt("Añadir subtablero", "Add section", "Title in the add section modal", undefined, true)})}),(0,p.jsxs)(n.xu,{padding:4,children:[(0,p.jsx)(n.xu,{marginBottom:2,children:(0,p.jsx)(n.__,{htmlFor:"sectionEditName",children:(0,p.jsx)(n.xv,{color:i?"error":"subtle",size:"200",children:this.props.i18n.bt("Nombre", "Name", "Board section name", undefined, true)})})}),(0,p.jsx)(n.xu,{children:(0,p.jsx)(n.xu,{ref:this.handleInputRef,children:(0,p.jsx)(n.nv,{errorMessage:i||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n.bt("Como \"Iluminación\"", "Like \"Lighting\"", "Placeholder for board section name", undefined, true),size:"lg",type:"text",value:a})})})]}),(0,p.jsx)(n.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start"}),(0,p.jsx)(n.xu,{padding:4,children:(0,p.jsx)(n.kC,{alignItems:"stretch",justifyContent:"end",children:(0,p.jsx)(h.Z,{disabled:!s||r,onClick:this.onCreateSection,submitting:r,text:this.props.i18n.bt("Añadir", "Add", "add a new section", undefined, true)})})})]})}}let b=function(e){let t=(0,r.I0)(),i=(0,l.ZP)(),a=(0,d.Z)(),n=(0,c.Z)();return(0,p.jsx)(m,{...e,dispatch:t,i18n:i,logContextEvent:(0,s.Z)(),orbacActingAs:n,viewer:a})}},357346:(e,t,i)=>{i.d(t,{Z:()=>s});var a=i(883119),r=i(503237),n=i(785893);function s({url:e,description:t,color:i}){return i=i||"#8fa7bf",(0,n.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{background:i}},height:216,rounding:2,width:"100%",children:(0,n.jsxs)(a.xu,{maxHeight:200,overflow:"hidden",padding:4,children:[e&&(0,n.jsx)(a.xu,{marginBottom:2,children:(0,n.jsx)(a.xv,{color:"inverse",size:"100",children:(0,r.Z)(e).hostname||e})}),(0,n.jsx)(a.xu,{maxHeight:144,children:(0,n.jsx)(a.xv,{color:"inverse",overflow:"normal",weight:"bold",children:t})})]})})}},686993:(e,t,i)=>{i.d(t,{Z:()=>p});var a=i(667294),r=i(883119),n=i(400416),s=i(357013),l=i(144326),o=i(240760),d=i(611735),c=i(639686),u=i(785893);function h(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends a.Component{constructor(...e){super(...e),h(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),h(this,"onDismiss",()=>{}),h(this,"mounted",!1),h(this,"addHashtag",e=>{this.props.addHashtag(e),this.setState({recommendations:[]})}),h(this,"handleKeyDown",e=>{e.keyCode===d.Z.UP?this.handlePrevHashtag(e):e.keyCode===d.Z.DOWN?this.handleNextHashtag(e):e.keyCode===d.Z.ESCAPE?this.handleClose(e):e.keyCode===d.Z.ENTER&&this.handleSubmit(e)}),h(this,"handlePrevHashtag",e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState(e=>({selectedIndex:e.selectedIndex-1}))}),h(this,"handleNextHashtag",e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState(e=>({selectedIndex:e.selectedIndex+1}))}),h(this,"handleClose",e=>{e.preventDefault(),this.setState({recommendations:[]})}),h(this,"handleSubmit",e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)}),h(this,"callResource",e=>{let{makeCancelablePromise:t}=this.props;t((0,n.Z)({url:"/v3/search/autocomplete/",data:{q:e,show_pin_count:!0}}),"typeahead").then(e=>{if(!this.mounted)return;let{data:t}=e.resource_response;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})}).catch(({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})})})}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){let{recommendations:e,resourceLoaded:t,selectedIndex:i}=this.state,{anchor:a,idealDirection:n}=this.props,l=e.filter(e=>e.query),d="flyout_"+l.length;return t&&l.length>0?(0,u.jsx)(r.J2,{anchor:a,idealDirection:n||"down",onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(r.xu,{width:"100%",zIndex:new r.Ry(3),children:l.length>0?l.map((e,t)=>(0,u.jsx)(r.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(r.xu,{alignItems:"center",color:t===i?"secondary":"transparent",display:"flex",justifyContent:"between",padding:1,children:[(0,u.jsx)(r.xu,{flex:"grow",children:(0,u.jsx)(r.xv,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,u.jsx)(r.xu,{flex:"none",children:(0,u.jsx)(r.xv,{inline:!0,size:"100",children:(0,o.nk)(this.props.i18n.nbt(["{{ count }} pin", "{{ count }} pines"], Number(e.pin_count), "label for n pins in hashtag flyout", true),{count:(0,u.jsx)(s.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query)):null})},d):null}}function p(e){let t=(0,l.ZP)(),i=(0,c.Z)();return(0,u.jsx)(_,{...e,i18n:t,makeCancelablePromise:i})}},374371:(e,t,i)=>{i.d(t,{Z:()=>k});var a,r,n,s,l,o=i(667294);i(167912);var d=i(883119),c=i(573706),u=i(384609),h=i(357346),_=i(529521),p=i(289762),g=i(144326),m=i(240760),b=i(961754),y=i(785893);let f=void 0!==a?a:a=i(635654),v=void 0!==r?r:r=i(409510),x=void 0!==n?n:n=i(563463);function S({pinKey:e}){let t=(0,g.ZP)(),i=(0,u.Z)(f,e),a="GraphQL"===(0,_.o)(e),r=(0,p.Z)({strategy:a?"GRAPHQL":"LEGACY",query:x,variables:{pinId:i.entityId},options:{fetchPolicy:"network-only"},useGetLegacyResource:({pinId:e})=>{let t=(0,b.Z)({name:"ApiResource",options:{url:`/v3/pins/${e}/`,field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0});return{data:t.data,refresh:t.refresh}}}),n=r?.v3GetPinQuery?.__typename==="V3GetPin"?r.v3GetPinQuery.data:null,s=(0,u.Z)(v,n);return s&&s.pinnedToBoard&&"quick_creates"!==s.pinnedToBoard.layout?(0,y.jsxs)(d.xu,{children:[(0,y.jsx)(d.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,y.jsx)(d.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,m.nk)(t.bt("¡Ey! Ya guardaste este Pin en {{ board_name }} ", "Psst! You already saved this Pin to {{ board_name }} ", "Toast for already having repinned pin", undefined, true),{board_name:(s.pinnedToBoard||{}).name}).join(" ")})}),(0,y.jsx)(d.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,y.jsx)(d.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var P=i(686993);function w(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let j=void 0!==s?s:s=i(194117),I=void 0!==l?l:l=i(869717);class A extends o.Component{constructor(...e){super(...e),w(this,"state",{flyoutCursorIndex:-1,description:this.props.pin?.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),w(this,"updateDescription",e=>{this.props.updateDescription&&this.props.updateDescription(e)}),w(this,"handleHashtagAddition",e=>{let{pin:t}=this.props;this.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:t?.entityId,aux_data:{hashtags:e}});let i=this.state.flyoutCursorIndex,a=Number(i+this.state.hashtagQuery.length),r=this.state.description.slice(0,i)+e+" "+this.state.description.slice(a);this.updateDescription(r),this.setState({description:r,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})})}render(){let{color:e,isFirstPin:t,pin:i,pinImageRef:a,shuffleAsset:r}=this.props,{editing:n,flyoutOpened:s,hashtagQuery:l,isHashtagFlyoutOpen:o}=this.state,c=r?.cutoutImages??i?.imageSpec_236x,u=c?.url||i?.imageBase64||this.props.urlPinInfo?.imageUrl,_=this.state.description||this.props.urlPinInfo?.description||"",p=i?.link||this.props.urlPinInfo?.link;return(0,y.jsxs)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:s&&n?{transform:"translateY(-75px)"}:{}},display:"flex",justifyContent:"center",position:"relative",width:t?"50%":"",children:[(0,y.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[i?.entityId&&!r&&(0,y.jsx)(S,{pinKey:i}),(0,y.jsx)(d.xu,{paddingY:t?9:0,width:240,children:(0,y.jsx)(d.xu,{ref:a,maxHeight:s&&n?220:335,overflow:"hidden",rounding:4,children:u?(0,y.jsx)(d.Ee,{alt:_,naturalHeight:c?.height||1,naturalWidth:c?.width||1,src:u}):!!p&&(0,y.jsx)(h.Z,{color:e||"",description:_,url:p})})})]}),this.anchor&&o?(0,y.jsx)(P.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:l}):null]})}}function k({pinKey:e,shuffleAssetKey:t,...i}){let{logContextEvent:a}=(0,c.v)(),r=(0,u.Z)(j,e),n=(0,u.Z)(I,t);return(0,y.jsx)(A,{...i,logContextEvent:a,pin:r,shuffleAsset:n})}},195456:(e,t,i)=>{i.d(t,{K:()=>N});var a,r,n=i(667294),s=i(545007);i(167912);var l=i(616550),o=i(252071),d=i(573706),c=i(785020),u=i(636565),h=i(835764),_=i(476198),p=i(384609),g=i(136061),m=i(144326),b=i(468808),y=i(901450),f=i(308551),v=i(383399),x=i(732567),S=i(133003),P=i(127566),w=i(605810),j=i(119437),I=i(409065),A=i(900492),k=i(883119);i(640498);var C=i(240760),T=i(415384),B=i(785893);let E=(e,t,i)=>i?(0,T.Z)(e.bt("Guardado en {{sectionName}} de {{boardName}}", "Saved to {{sectionName}} in {{boardName}}", "Toast for successfully saving to a section within a board", undefined, true),{sectionName:i.title??"",boardName:t??""}):(0,B.jsx)(k.xv,{children:(0,C.nk)(e.bt("Guardado en {{ boardName }}", "Saved to {{ boardName }}", "Libs.PinToBoard.NewBoardToast", undefined, true),{boardName:(0,B.jsx)(k.xv,{weight:"bold",children:t})})});var z=i(845349);function R(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let F=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,L=void 0!==a?a:a=i(216232),D=void 0!==r?r:r=i(380718);class Z extends n.Component{constructor(...e){super(...e),R(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,!!this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||this.props.urlPinInfo?.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),R(this,"unmounted",!1),R(this,"setModalTitle",e=>this.safeSetState({modalTitle:e})),R(this,"updateDescription",e=>{this.safeSetState({pinDescription:e})}),R(this,"close",()=>{let{onClose:e}=this.props;e&&e(),this.props.logContextEvent({event_type:2502,component:5,element:610})}),R(this,"safeSetState",(e,t)=>{this.unmounted?t&&t():this.setState(e,t)}),R(this,"getPinResource",(e,t,i)=>{let{color:a,clientTrackingParams:r,pin:n,method:s,guid:l,additionalCreateFields:d,advertiser_id:c,urlPinInfo:u,shuffleAsset:h}=this.props,_=n?.entityId?"RepinResource":"PinResource",p=n?.imageUrl||u?.imageUrl,g=n?.link||u?.link,m=!n?.entityId&&p?(0,f.Z)(p,g):n?.imageSpec_orig?.url||"",b={...d,board_id:t||"",color:a||"",clientTrackingParams:(0,P.Z)(r,n?.trackingParams),description:this.state.pinDescription,guid:l||"",link:g,image_base64:n?.imageBase64??void 0,image_url:m,is_buyable_pin:!1,is_removable:n?.promotedIsRemovable??void 0,media_upload_id:n?.mediaUploadId??void 0,method:s||"",pin_id:n?.entityId||"",section:i,title:n?.title||"",...c?{advertiser_id:c}:Object.freeze({}),...h?{shuffle_asset:h.entityId}:{}};if(!e){let{facebook:e,twitter:t}=this.state.sharing;b.share_facebook=e,b.share_twitter=t}return o.Z.create(_,b)}),R(this,"triggerPubSubs",e=>{this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id})}),R(this,"makeCancelablePromise",e=>{let t=!1;return{promise:new Promise((i,a)=>{e.then(e=>t?a({isCanceled:!0}):i(e)),e.catch(e=>t?a({isCanceled:!0}):a(e))}),cancel(){t=!0}}}),R(this,"handleLogToastClick",()=>{this.props.logContextEvent({event_type:101,component:20,view_type:52})}),R(this,"showBoardSavedToast",(e,t)=>{let{toastManagerContext:i,i18n:a}=this.props;i.showToast(({hideToast:i})=>(0,B.jsx)(_.Z,{duration:z.A,href:t?`${e.url??""}${t.slug??""}`:e.url,imageUrl:e.image_cover_url??"",onClick:this.handleLogToastClick,onHide:i,text:E(a,e.name,t)}))}),R(this,"dismissModal",()=>{let{resolve:e,newPin:t}=this.state;e&&e(t)}),R(this,"handleBoardSaveSuccess",(e,t,i,a)=>{let{action:r,saveToBoard:n,dispatch:s,pin:l,setCompletionPromise:o,shouldShowToast:d,showRepinAnimation:c,viewerUserId:u,urlPinInfo:_}=this.props;s((0,h.fO)());let p=e.resource_response.data,g=this.makeCancelablePromise(new Promise(e=>{this.triggerPubSubs(p);let r=this.state.pinDescription.match(F)||[];r.length>0&&this.props.logContextEvent({event_type:2,element:10273,object_id_str:this.props.pin?.entityId,aux_data:{hashtags:JSON.stringify(r)}}),a?(()=>{d&&this.showBoardSavedToast(t,i),this.safeSetState({displaySuccessAnimation:!0,modalTitle:this.props.i18n.bt("Se creó el tablero", "Board created", "Modal title after creating a new board", undefined, true),newPin:p,resolve:e})})():e(p)}));!a&&l?.entityId&&c(l.entityId),o(g),n(t),s((0,j.Br)({boardId:t.id,sectionId:i&&i.id,increment:1})),u&&(s((0,A.JS)({userId:u,increment:1})),s((0,h.fO)())),(i||!t.image_cover_url)&&(t.image_cover_url=l?.imageUrl||_?.imageUrl||l?.imageSpec_236x?.url||"",s((0,j.yT)(t))),i&&s((0,b.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:i.id}})),l?.entityId&&s((0,I.Ur)({id:l.entityId,nodeId:l.__id,boardId:t.id,title:t.name??"",url:t.url??"",localPinId:p.id}))}),R(this,"handleSaveToBoard",(e,t,i)=>{let{onToggleModal:a,shouldShowToast:r,mountAfterActionPlacement:n}=this.props;r&&!i&&(this.close(),this.showBoardSavedToast(e,t));let s="secret"===(e.privacy||""),l={board:t?t.id:e.id,state:z.S.LOADING};this.safeSetState({boardSavedTo:l},()=>{this.getPinResource(s,e.id,(t||{}).id).callCreate({showError:!1}).then(r=>{n("Save",{pin_id:this.props.pin?.entityId,is_promoted:this.props.pin?.isPromoted}),this.safeSetState({boardSavedTo:Object.assign(l,{state:z.S.SUCCESS})},()=>this.handleBoardSaveSuccess(r,e,t,i)),a&&!i&&a(!1)}).catch(e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),c.Z.showError(e.message_detail||e.message);let t=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(t),a&&a(!1)})})}),R(this,"handleNewBoardAnimationCompletion",()=>{let{pin:e,showRepinAnimation:t}=this.props;e?.entityId&&t(e.entityId)})}getModalTitle(e,t){return e?t?this.props.i18n.bt("Crear subtablero", "Create section", "modal title for create section pane", undefined, true):this.props.i18n.bt("Crear tablero", "Create board", "Repin title for making a new board", undefined, true):t?this.props.i18n.bt("Elegir subtablero", "Choose section", "modal title for choose section", undefined, true):this.props.i18n.bt("Seleccionar tablero", "Choose board", "Repin title for choosing a board", undefined, true)}componentDidUpdate(e){let{boardWithSection:t,showCreate:i,pin:a,urlPinInfo:r,description:n}=this.props,s={};(a!==e.pin||r!==e.urlPinInfo||n!==e.description)&&(s.pinDescription=a?.description||r?.description||n||""),(i!==e.showCreate||t!==e.boardWithSection)&&(s.modalTitle=this.getModalTitle(i,!!t)),Object.keys(s).length>0&&this.safeSetState(s)}componentWillUnmount(){this.unmounted=!0}render(){let{close:e,dismissModal:t,handleNewBoardAnimationCompletion:i,handleSaveToBoard:a,setModalTitle:r,updateDescription:n}=this,{boardSavedTo:s,displaySuccessAnimation:l,modalTitle:o,newPin:d}=this.state,{color:c}=this.props;return this.props.children({boardSavedTo:s,color:c,dismissModal:t,displaySuccessAnimation:l,handleAbort:e,handleNewBoardAnimationCompletion:i,handleSaveToBoard:a,modalTitle:o,newPin:d,setModalTitle:r,updateDescription:n})}}function N({pinKey:e,shuffleAssetKey:t,...i}){let{saveToBoard:a}=(0,S.N)(),{logContextEvent:r}=(0,d.v)(),n=w.W()?.onPinCreate,o=(0,m.ZP)(),c=(0,l.TH)(),h=(0,v.Z)(),_=(0,y.F9)(),b=(0,s.I0)(),{updateHeaderState:f}=(0,x.Z)(),P=(0,s.v9)(({advertiser:e})=>h.isAuth&&e&&e.owner_user_id!==h.id?e.id:void 0),{previous:j}=(0,g.Hv)(),I=(0,u.cO)(),A=(0,p.Z)(L,e),k=(0,p.Z)(D,t);return(0,B.jsx)(Z,{...i,advertiser_id:P,dispatch:b,i18n:o,location:c,logContextEvent:r,mountAfterActionPlacement:I,onPinCreate:n,pin:A,previousHistory:j,saveToBoard:a,showRepinAnimation:e=>f({type:"showRepinAnimation",payload:e}),shuffleAsset:k,toastManagerContext:_,viewerUserId:h.isAuth?h.id:void 0})}},855799:(e,t,i)=>{i.d(t,{Z:()=>es});var a,r,n,s,l=i(667294);i(167912);var o=i(883119),d=i(758339),c=i(384609),u=i(144326),h=i(383399),_=i(723223),p=i(291130),g=i(545007),m=i(488792),b=i(730212),y=i(465256),f=i(785893);let v=({board:e,completeCreateSectionAction:t,height:i,onClose:a,pinImport:r,url:n,width:s})=>{let c=(0,u.ZP)(),{isRTL:h}=(0,b.B)(),_=(0,m.Z)(),p=(0,g.I0)(),[v,x]=(0,l.useState)(""),[S,P]=(0,l.useState)(!1),[w,j]=(0,l.useState)(null);return(0,f.jsx)(d.ZP,{accessibilityModalLabel:c.bt("Diálogo modal de repin", "Repin modal", "save.pinToBoard.modal.label", undefined, true),footer:(0,f.jsx)(o.kC,{children:(0,f.jsx)(o.xu,{marginStart:"auto",children:(0,f.jsx)(o.zx,{color:"red",dataTestId:"create-section-add-button",disabled:S||!v.trim()||!!w,fullWidth:!0,onClick:()=>{e&&(P(!0),p((0,y.Z)({boardId:e.id,name:v.trim(),pinImport:r},c,void 0,_)).then(i=>{t(e,i,!1)}).catch(e=>{j(e.message_detail||e.message)}).finally(()=>{P(!1)}))},size:"lg",text:c.bt("Agregar", "Add", "sectionCreateModal.add.button", undefined, true)})})}),heading:(0,f.jsx)(o.xu,{paddingY:8,children:(0,f.jsxs)(o.kC,{justifyContent:"center",children:[(0,f.jsx)(o.xu,{maxWidth:400,children:(0,f.jsx)(o.X6,{align:"center",size:"500",children:c.bt("Agregar subtablero", "Add section", "sectionCreateModal.title", undefined, true)})}),(0,f.jsx)(o.xu,{left:h,padding:8,position:"absolute",right:!h,top:!0,children:(0,f.jsx)(o.hU,{accessibilityLabel:c.bt("Cerrar", "Close", "sectionCreateModal.closeButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:a,size:"md"})})]})}),onDismiss:a,size:"sm",children:(0,f.jsx)(o.xu,{padding:8,children:(0,f.jsxs)(o.kC,{children:[(0,f.jsx)(o.zd,{height:i,rounding:4,width:s,children:n&&(0,f.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:i??1,naturalWidth:s??1,src:n})}),(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{width:s?`calc(100% - ${s}px)`:"100%"}},marginStart:8,children:(0,f.jsx)(o.nv,{dataTestId:"create-section-name-input-field",errorMessage:w,id:"sectionEditName",label:c.bt("Nombre", "Name", "section.create.label", undefined, true),onChange:e=>{x(e.value),j(null)},placeholder:c.bt("Como \"Iluminación\"", "Like \"Lighting\"", "sectionCreateModal.boardSection.name", undefined, true),size:"lg",type:"text",value:v})})]})})})};var x=i(573706),S=i(338623),P=i(961754),w=i(382396),j=i(410150);let I=void 0;function A(e,t,i,a){return{...e?{pin_id:e}:Object.freeze({}),...t?{username:t}:Object.freeze({}),...i?{advertiser_id:i,filter:"protected"}:Object.freeze({}),field_set_key:"board_picker",limit:I,shortlist_suggestions:2,isDesktop:a}}var k=i(151600),C=i(909999);let T=void 0!==a?a:a=i(940220),B=e=>{let t=[],i=[];return e.forEach(e=>{e.name?.match(/^\d/)?i.push(e):t.push(e)}),[...t,...i]};class E extends l.Component{constructor(...e){var t,i,a;super(...e),t="getSections",i=e=>{let{boardResource:{data:t}}=this.props;if(!t)return[];let{all_boards:i,boards_shortlist:a}=t,r=B(i);return r.length<=3?[{items:r}]:e.length>=w.Z?[{items:(0,C.j)(r,e)}]:[a.length?{items:a,title:this.props.i18n.bt("Lo más elegido", "Top choices", " - ", undefined, true)}:{items:[]},{items:r,title:this.props.i18n.bt("Todos los tableros", "All boards", "title for board picker all boards section", undefined, true)}]},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{boardResource:{data:e,error:t,isLoaded:i},boardSavedTo:a,isSelectMode:r,onBoardCreate:n,onBoardSelected:s,pin:l}=this.props,o=i&&!!e&&e.all_boards.length<=3;return(0,f.jsx)(k.Z,{boardSavedTo:a,getSections:this.getSections,hasLoadError:!!t,hasLowBoardCount:o,isLoaded:i,isSelectMode:r,onCreate:n,onSelected:s,pinId:l?.entityId})}}function z({pinKey:e,...t}){let i=(0,u.ZP)(),a=(0,h.Z)(),r=(0,j.HG)(),n=(0,c.Z)(T,e),s=(0,g.v9)(({advertiser:e})=>{if(a.isAuth&&e&&e.owner_user_id!==a.id)return e.id}),l=(0,g.v9)(({advertiser:e})=>{if(a.isAuth&&e&&e.owner_user_id!==a.id)return e.owner_user_id}),o=(0,P.Z)({name:"BoardPickerBoardsResource",options:A(n?.entityId,l,s,r)});return(0,f.jsx)(E,{...t,boardResource:o,i18n:i,pin:n})}class R extends l.Component{constructor(...e){var t,i,a;super(...e),t="getSections",i=e=>{let{board:t,i18n:i,sectionsResource:{data:a}}=this.props,r=i.bt("Tablero", "Board", "PinSaveButton.RepinPicker.SectionListBoardTitle", undefined, true),n=i.bt("Subtablero", "Section", "PinSaveButton.BoardFlyout.SectionListSectionTitle", undefined, true);return e.length>=w.Z?[{items:(0,C.j)([t],e),customProps:{inSectionSelection:!0}},{items:(0,C.j)(a??[],e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0},title:r},{items:a??[],title:n}]},(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}render(){let{sectionsResource:{error:e,isLoaded:t},boardSavedTo:i,isSelectMode:a,onSectionCreate:r,onSectionSelected:n,pinId:s}=this.props;return(0,f.jsx)(k.Z,{boardSavedTo:i,createButtonLabel:this.props.i18n.bt("Añadir subtablero", "Add section", "Button for creating a board section", undefined, true),getSections:this.getSections,hasLoadError:!!e,isLoaded:t,isSelectMode:a,onCreate:r,onSelected:n,pinId:s})}}function F(e){let t=(0,u.ZP)(),i=(0,P.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,f.jsx)(R,{...e,i18n:t,sectionsResource:i})}var L=i(640498),D=i(89934),Z=i(360410),N=i(559028),O=i(415384);function M(e){let t=(0,u.ZP)(),{body:i,img:a,onClick:r,selected:n,title:s,username:l,valid:d}=e;return(0,f.jsx)(o.xu,{marginBottom:4,children:(0,f.jsx)(o.iP,{onTap:r,children:(0,f.jsxs)(o.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[a,(0,f.jsxs)(o.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,f.jsx)(o.xu,{marginBottom:1,children:(0,f.jsx)(o.xv,{lineClamp:1,weight:"bold",children:s})}),(0,f.jsx)(o.xv,{lineClamp:1,size:"100",children:l||i})]}),(0,f.jsx)(o.xu,{marginStart:2,children:l?n?(0,f.jsx)(o.JO,{accessibilityLabel:t.bt("Se enviará una invitación", "Confirmation an invite will be sent", "Alt tags on a check box on the board create flow for board invites", undefined, true),color:"error",icon:"check-circle",size:32}):(0,f.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,f.jsx)(o.zx,{color:"gray",disabled:!!n||!d,size:"sm",text:n?t.bt("Enviado", "Sent", "Sent a board collaborator invite", undefined, true):t.bt("Invitar", "Invite", "Add board collaborator invite", undefined, true)})})]})})})}var K=i(332322);function U(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function H(e,t,i){let{id:a}=e;return t===i.findIndex(e=>e.id===a)}class W extends l.Component{constructor(...e){super(...e),U(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),U(this,"isIdSelected",{}),U(this,"handleTextFieldChange",({value:e})=>{this.setState({value:e})}),U(this,"handleCollaboratorClick",e=>{let{id:t,type:i}=e;this.isIdSelected[t]=!this.isIdSelected[t];let{inviteUsers:a,inviteEmails:r}=this.props,{selectedCollaborators:n}=this.state,s=n.concat([e]);this.props.onSelectedCollaboratorsChange({id:t,resource:"email"===i?r:a}),this.setState({selectedCollaborators:s})}),U(this,"handleTypeaheadSuggestionsChange",e=>{this.setState({typeaheadSuggestions:e})})}componentDidMount(){let{inviteUsers:e,inviteEmails:t}=this.props;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map(i=>{let{id:a,type:r}=i;return this.isIdSelected[a]=!this.isIdSelected[a],this.props.onSelectedCollaboratorsChange({id:a,resource:"email"===r?t:e}),null})}render(){let{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,i=t||[],a=(""===e?this.state.selectedCollaborators.concat(i).filter(H):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:(0,Z.Z)(e)}).concat(i).filter(H)).map(e=>(function(e,t,i,a){if("user_share_suggestion"===e.type||"user"===e.type){let a=(0,f.jsx)(N.qE,{accessibilityLabel:"",name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,f.jsx)(M,{img:a,onClick:()=>i(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){let r,n;let{id:s,valid:l}=e,d=(0,f.jsx)(o.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,f.jsx)(o.JO,{accessibilityLabel:a.bt("Icono de correo electrónico", "Email icon", "Email icon on board create modal", undefined, true),color:"default",icon:"envelope",size:20})}),c=(0,O.Z)(a.bt("Enviar un correo electrónico a {{ email }}", "Email {{ email }}", " - ", undefined, true),{email:s});return t?(r=a.bt("¡Hecho!", "Done!", "Text that lets the user know we sent the board invite email", undefined, true),n=()=>void 0):(r=l?a.bt("¡Haz clic para enviar!", "Click to send!", "Text that lets the user know they can successfully send a board invite email", undefined, true):a.bt("¡Sigue escribiendo!", "Keep typing!", "Text that lets a user know the email they are typing is not valid yet", undefined, true),n=()=>l?i(e):void 0),(0,f.jsx)(M,{body:r,img:d,onClick:n,selected:t,title:c,valid:l})}})(e,this.isIdSelected[e.id],this.handleCollaboratorClick,this.props.i18n)).map((e,t)=>(0,f.jsx)("li",{children:e},t));return(0,f.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,f.jsx)(o.xu,{paddingX:3,paddingY:2,children:(0,f.jsx)(o.xv,{size:"100",children:this.props.i18n.bt("Agregar colaboradores (opcionales)", "Add collaborators (optional)", "Optional field to add collaborators to a board on board create", undefined, true)})}),(0,f.jsx)(o.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,f.jsx)(o.xu,{flex:"grow",children:(0,f.jsx)(D.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,f.jsx)(o.Um,{accessibilityLabel:this.props.i18n.bt("Buscar colaboradores por nombre o correo electrónico", "Search for collaborators by name or email", " - ", undefined, true),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n.bt("Buscar por nombre o correo", "Search by name or email", " - ", undefined, true),size:"lg",value:e})})})}),(0,f.jsx)(o.xu,{overflow:"scrollY",paddingX:3,children:(0,f.jsx)("ul",{children:a})})]})}}function G(e){let t=(0,u.ZP)(),i=(0,P.Z)({name:"ShareSuggestionsResource",noCache:!0}),a=(0,K.zC)(),r=(0,K.DK)();return(0,f.jsx)(W,{...e,i18n:t,inviteEmails:a,inviteUsers:r,shareSuggestionsResource:i})}var $=i(560104),q=i(960221);function Y({onCancel:e,onCreate:t,onInvite:i,prefilledName:a,preselectedCollaborators:r,showTitle:n}){let s=(0,u.ZP)(),{isRTL:d}=(0,b.B)(),{handleCreate:c,handleChangeName:h,handleChangePrivacy:_,isAdAccountOwner:p,state:{createBoardError:g,inputName:m,nameValidatorErrors:y,privacy:v,saving:x}}=(0,q.Z)({onCreate:t,prefilledName:a}),S=0===y.length,P=v===L.ZP.BoardPrivacy.SECRET;return(0,f.jsx)(o.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,f.jsx)("form",{onSubmit:e=>{e.preventDefault(),c()},style:{height:"100%"},children:(0,f.jsxs)(o.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[n&&(0,f.jsx)(o.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,f.jsx)(o.X6,{size:"400",children:s.bt("Crear tablero", "Create board", " - ", undefined, true)})}),(0,f.jsxs)(o.xu,{padding:3,children:[(0,f.jsx)(o.xu,{marginBottom:2,children:(0,f.jsx)(o.__,{htmlFor:"boardEditName",children:(0,f.jsx)(o.xv,{size:"100",children:s.bt("Nombre", "Name", " - ", undefined, true)})})}),(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.nv,{errorMessage:y.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>h(e),placeholder:s.bt("Como \"Viajes\" o \"Recetas\".", "Like \"Places to Go\" or \"Recipes to Make\"", " - ", undefined, true),size:"lg",value:m})})]}),p&&(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)(o.xu,{padding:3,children:[(0,f.jsx)(o.xu,{marginBottom:2,children:(0,f.jsx)(o.__,{htmlFor:"secret",children:(0,f.jsx)(o.xv,{size:"100",children:s.bt("Secreto", "Secret", "secret board", undefined, true)})})}),(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.rs,{id:"secret",onChange:_,switched:P})})]}),(0,f.jsx)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",overflow:"hidden",children:(0,f.jsx)(o.xu,{width:"100%",children:(0,f.jsx)(G,{onSelectedCollaboratorsChange:i,preselectedCollaborators:r})})})]}),!p&&(0,f.jsx)(l.Fragment,{children:(0,f.jsxs)(o.xu,{padding:3,children:[(0,f.jsx)(o.xu,{marginBottom:2,children:(0,f.jsx)(o.__,{htmlFor:"protected",children:(0,f.jsx)(o.xv,{size:"100",children:s.bt("Tablero protegido (no aparece en el perfil del usuario)", "Protected board (not listed on user's profile)", "protected board", undefined, true)})})}),(0,f.jsx)(o.xu,{children:(0,f.jsx)(o.rs,{disabled:!0,id:"protected",onChange:()=>void 0,switched:!0})})]})}),(0,f.jsxs)(o.xu,{borderStyle:"shadow",bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},display:"flex",justifyContent:"between",left:d,paddingX:4,paddingY:2,position:"absolute",right:!d,width:720,children:[(0,f.jsx)(o.kC,{children:(0,f.jsx)(o.zx,{onClick:e,text:s.bt("Cancelar", "Cancel", "cancel board create", undefined, true)})}),(0,f.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"end",children:[!!g&&(0,f.jsx)(o.xu,{paddingX:2,children:(0,f.jsx)(o.xv,{align:"center",color:"error",size:"200",weight:"bold",children:g})}),(0,f.jsx)($.Z,{disabled:!m.trim()||!S||!!g||x,submitting:x,text:s.bt("Crear", "Create", "create a new board", undefined, true)})]})]})]})})})}var X=i(150333);function V(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let J=void 0!==r?r:r=i(587679);class Q extends l.Component{constructor(...e){super(...e),V(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),V(this,"close",()=>{let{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:i}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):i()}),V(this,"sendInvites",e=>{let{inviteQueue:t}=this.state;Object.keys(t).forEach(i=>{t[i].resource(e.id??"",[i])})}),V(this,"handleInvite",e=>{let{inviteQueue:t}=this.state;if(t[e.id]){let i={...t};delete i[e.id],this.setState({inviteQueue:i})}else{let i={...t,[e.id]:e};this.setState({inviteQueue:i})}}),V(this,"handleBoardCreate",e=>{let{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)}),V(this,"handleBoardSave",(e,t)=>{let{selectedSectionBoard:i}=this.state,{onBoardSave:a,invalidatePinBetterSaveResource:r,invalidateResource:n}=this.props,s="board_section"===e.type;if(n(),r(),i&&("boardsection"===e.type||s))return a(i,e,t);let{section_count:l=0}=e;!i&&"number"==typeof l&&l>0?this.setState({selectedSectionBoard:e},this.manageModalTitle):(this.sendInvites(e),a(e,void 0,t))}),V(this,"handleCreate",e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle),this.props.logContextEvent({event_type:101,component:e?13105:13025,element:e?10306:249})}),V(this,"manageModalTitle",()=>{let{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:i}=this.state;e&&e(i&&t?this.props.i18n.bt("Añadir subtablero", "Add section", "Repin title for making a board section", undefined, true):i&&!t?this.props.i18n.bt("Crear tablero", "Create board", "Repin title for making a new board", undefined, true):t&&!i?this.props.i18n.bt("Elegir subtablero", "Choose section", "Repin title for choosing a board section", undefined, true):this.props.i18n.bt("Seleccionar tablero", "Choose board", "Repin title for choosing a board", undefined, true))})}render(){let{boardSavedTo:e,isRepin:t,isSelectMode:i,pin:a,preselectedCollaborators:r,setModalTitle:n,suggestedBoardTitle:s}=this.props,{newName:l,selectedSectionBoard:d,showCreate:c}=this.state,u=!!d,h=!n;return(0,f.jsxs)(o.xu,{display:"flex",position:"relative",width:"100%",children:[!c&&(0,f.jsx)(o.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:d?(0,f.jsx)(F,{board:d,boardSavedTo:e,isSelectMode:i,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):(0,f.jsx)(z,{boardSavedTo:e,isSelectMode:i,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinKey:a})}),c&&!d&&(0,f.jsx)(Y,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:l||s,preselectedCollaborators:r,showTitle:h}),c&&d&&(0,f.jsx)(X.Z,{board:d,completeCreateSectionAction:this.handleBoardSave,initialName:l,isRepin:t,onClearModal:this.close,showTitle:h})]})}}function ee({pinKey:e,...t}){let{logContextEvent:i}=(0,x.v)(),a=(0,u.ZP)(),r=(0,c.Z)(J,e),n=(0,g.I0)();return(0,f.jsx)(Q,{...t,i18n:a,invalidatePinBetterSaveResource:()=>{n((0,S.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))},invalidateResource:()=>{n((0,S.jB)("BoardPickerBoardsResource",A(r?.entityId)))},logContextEvent:i,pin:r})}var et=i(374371);function ei(e,t,i){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ea=void 0!==n?n:n=i(600483),er=void 0!==s?s:s=i(947793);class en extends l.PureComponent{constructor(...e){super(...e),ei(this,"pinImageRef",(0,l.createRef)()),ei(this,"handleSavePinToBoard",(e,t,i)=>{let{handleSaveToBoard:a}=this.props;a(e,t,i)}),ei(this,"close",()=>{let{handleAbort:e}=this.props;e()}),ei(this,"dismissModal",()=>{let{dismissModal:e}=this.props;e&&e()})}render(){let{boardSavedTo:e,boardWithSection:t,color:i,displaySuccessAnimation:a,handleNewBoardAnimationCompletion:r,isInModal:n,newPin:s,pin:c,preselectedCollaborators:u,onBoardCreated:h,sensitiveContentNotice:g,setModalTitle:m,showCreate:b,shouldRenderContent:y,suggestedBoardTitle:x,updateDescription:S,urlPinInfo:P,shuffleAsset:w}=this.props,j=P?.description||P?.link||P?.imageUrl;if(!c&&!j||!y)return null;if(b&&t)return(0,f.jsx)(v,{board:t,completeCreateSectionAction:this.handleSavePinToBoard,height:c?.imageSpec_236x?.height??0,onClose:this.close,url:c?.imageSpec_236x?.url??P?.imageUrl??"",width:c?.imageSpec_236x?.width??0});let I=null;s&&s.board&&(I=s.board.name);let A=g&&g.title||this.props.modalTitle,k=g?(0,f.jsx)(_.Z,{inModal:!0,notices:[g]}):(0,f.jsx)(o.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,f.jsxs)(l.Fragment,{children:[(0,f.jsxs)(o.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,f.jsx)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,f.jsx)(o.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,f.jsx)(et.Z,{color:i,pinImageRef:this.pinImageRef,pinKey:c,shuffleAssetKey:w,updateDescription:S,urlPinInfo:P})})}),(0,f.jsx)(o.kC,{alignItems:"stretch",width:"60%",children:(0,f.jsx)(ee,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:h,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinKey:c,preselectedCollaborators:u,setModalTitle:n?m:void 0,showCreate:b,suggestedBoardTitle:x})})]}),a&&(0,f.jsx)(p.Z,{onDismiss:()=>{r(),this.dismissModal()},pinImageRef:this.pinImageRef,pinKey:c,selectedBoardName:I,shuffleAssetKey:w})]})});return n?(0,f.jsx)(d.ZP,{accessibilityModalLabel:A||this.props.i18n.bt("Diálogo modal de repin", "Repin modal", "save.pin-to-board.PinToBoard.PinToBoard", undefined, true),heading:A,onDismiss:this.close,size:"md",children:k}):k}}ei(en,"defaultProps",{pwtAuxData:{}});let es=function({pinKey:e,shuffleAssetKey:t,...i}){let a=(0,u.ZP)(),r=(0,h.Z)(),n=(0,c.Z)(ea,e),s=(0,c.Z)(er,t);return(0,f.jsx)(en,{...i,i18n:a,pin:n,shuffleAsset:s,viewer:r})}},845349:(e,t,i)=>{i.d(t,{A:()=>a,S:()=>r});let a=4e3,r={LOADING:"loading",SUCCESS:"success"}},960221:(e,t,i)=>{i.d(t,{Z:()=>p});var a=i(667294),r=i(545007),n=i(640498),s=i(194093),l=i(144326),o=i(240760),d=i(338623),c=i(383399),u=i(26456),h=i(599911),_=i(207666);function p({onCreate:e,prefilledName:t}){let i=(0,l.ZP)(),p=(0,r.v9)(({advertiser:e})=>e),g=(0,r.I0)(),m=(0,c.Z)(),b=!p||m.isAuth&&p.owner_user_id===m.id,y=p&&p.id,f=(0,_.Z)(),[v,x]=(0,a.useState)({createBoardError:null,inputName:t||"",nameValidatorErrors:[],privacy:b?n.ZP.BoardPrivacy.PUBLIC:n.ZP.BoardPrivacy.PROTECTED,saving:!1}),S=()=>{let{inputName:t,privacy:a}=v;x({...v,saving:!0,createBoardError:null}),f({boardCreateOptions:{name:t,privacy:a,...!b&&y?{advertiser_id:y}:Object.freeze({}),aux_data:{source:"board_picker"}}}).then(t=>{x({...v,saving:!1}),e(t)}).catch(e=>{let t=i.bt("¡Vaya! Se produjo un error.", "Uh oh! Something went wrong.", " - ", undefined, true);if("string"==typeof e)t=e;else{let i=(0,s.Z)(e,"message");if(i){let a=(0,s.Z)(e,"message_detail");t=a?`${i} ${a}`:i}}x({...v,saving:!1,createBoardError:t})}),g((0,d.jB)("BoardsResource",(0,h.Z)(m.isAuth?m.username:"",a===n.ZP.BoardPrivacy.SECRET)))};return{handleChangeName:(e,t)=>{x({...v,inputName:e,nameValidatorErrors:(0,u.FU)([(0,u.aH)({message:i.bt("¡No te olvides de darle un nombre al tablero!", "Don't forget to name your board!", " - ", undefined, true)}),(0,u.Gy)({max:n.ZP.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,o.nk)(i.bt("Ingresa {{ maxLength }} caracteres como máximo.", "Please enter no more than {{ maxLength }} characters.", "Validation error when a user input is too long", undefined, true),{maxLength:n.ZP.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null}),t&&S()},handleChangePrivacy:()=>{x({...v,privacy:v.privacy===n.ZP.BoardPrivacy.SECRET?n.ZP.BoardPrivacy.PUBLIC:n.ZP.BoardPrivacy.SECRET})},handleCreate:S,isAdAccountOwner:b,state:v}}},207666:(e,t,i)=>{i.d(t,{Z:()=>c});var a=i(545007),r=i(782677),n=i(252071),s=i(835764),l=i(786974),o=i(468808),d=i(338623);function c(){let e=(0,a.I0)(),t=(0,a.v9)(e=>e.resources);return async function({boardCreateOptions:i,deprecatedSchemaForNormalization:a}){let c=await n.Z.create("BoardResource",i).callCreate(),u=c.resource_response.data,h=a?(0,r.Fv)(u,a):void 0;e((0,d.XM)("BoardResource",i,c,h)),e((0,s.fO)({event_type:20})),u.owner?.id&&e((0,o.b)("UserResource",{options:{user_id:u.owner.id,field_set_key:"save_behavior"}}));let _=t.BoardsResource||{},p=t.BoardsFeedResource||{};return Object.keys(_).forEach(t=>{(0,l.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsResource",t))}),Object.keys(p).forEach(t=>{(0,l.k)(t).username===u.owner?.username&&e((0,d.jB)("BoardsFeedResource",t))}),u}}},757749:(e,t,i)=>{var a;i.d(t,{N:()=>r});let r=((a={})[a.CUSTOM=0]="CUSTOM",a[a.HIDDEN=1]="HIDDEN",a[a.HOPE=2]="HOPE",a[a.LOVE=3]="LOVE",a[a.NONE=4]="NONE",a)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/73777.es_419-dd1919de044e95df.mjs.map