"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[53970,32322],{890330:(e,a,l)=>{var n,t,r,i;l.r(a),l.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};o.hash="e0cd549ce31635291bd74113393edc53";let s=o},415212:(e,a,l)=>{var n,t,r,i;l.r(a),l.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};o.hash="7c32abc79b81b52b7c0d6582f9278b22";let s=o},501109:(e,a,l)=>{var n,t,r,i,o,s;l.r(a),l.d(a,{default:()=>u});let d={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"ban"},t={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,n],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};d.hash="a3cb87deead5a06468a3b46652f22daa";let u=d},129502:(e,a,l)=>{var n,t,r,i,o,s,d,u;l.r(a),l.d(a,{default:()=>m});let c={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[r,d={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[o,s,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},u],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},{kind:"InlineFragment",selections:[d],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};c.hash="f70efc59a3f6a73e0af36081d8552b3a";let m=c},643547:(e,a,l)=>{var n,t,r,i,o,s,d,u,c,m;l.r(a),l.d(a,{default:()=>_});let p=(n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o=[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},c={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null},m=[i,u={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:n,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[r,{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:o,storageKey:null},s,d,u,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},{kind:"InlineFragment",selections:[r,c],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:m,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:m,storageKey:null},s,d,u,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:m,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},{kind:"InlineFragment",selections:[c],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});p.hash="38716861de712c68561883b0d58d8bc6";let _=p},82107:(e,a,l)=>{var n,t,r,i;l.r(a),l.d(a,{default:()=>s});let o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{kind:"InlineFragment",selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"collab_emails_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[r,{kind:"InlineFragment",selections:[i],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};o.hash="a7278ebf81f3869f03eb0bf7df4daeb4";let s=o},956189:(e,a,l)=>{var n,t,r,i,o,s;l.r(a),l.d(a,{default:()=>u});let d={fragment:{argumentDefinitions:[n={defaultValue:null,kind:"LocalArgument",name:"boardId"},t={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},r={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:[{alias:null,args:i=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},s={alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,n,r],kind:"Operation",name:"collab_users_Mutation",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[o,{kind:"InlineFragment",selections:[s],type:"Error",abstractKey:"__isError"}],storageKey:null}]},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};d.hash="f4d87e820bd0fba4aa4c8fdaeed6231e";let u=d},243789:(e,a,l)=>{l.r(a),l.d(a,{default:()=>D});var n=l(667294),t=l(545007),r=l(883119),i=l(812696),o=l(281584),s=l(609326),d=l(602185),u=l(636565),c=l(144326),m=l(297728),p=l(770975);function _({constraint:e}){let a=(0,p.E)(),l=a?.getId();return(0,n.useEffect)(()=>{a&&a.markConstraintComplete(e)},[l,e]),null}var g=l(750077),b=l(864723),y=l(154785),k=l(969119),f=l(383399),v=l(273777),h=l(897791),I=l(207462),K=l(345020),F=l(179735),E=l(785893);let T=(0,F.Z)(()=>l.e(43473).then(l.bind(l,396261)),void 0,"PinSaveButtonCommon"),S=(0,n.lazy)(async()=>({default:(await Promise.all([l.e(69965),l.e(22538)]).then(l.bind(l,474465))).QuickSaveButtonWithExperienceAnchor})),D=({boardCount:e=0,clientTrackingParams:a,fromEggsBoard:l,onBoardSelectionFlyoutChange:F,onClickCallback:D,pin:C,showEnabledSaveBehavior:L,showRepinOnInitialRender:A,variant:R,viewParameter:M,viewType:w})=>{let B=(0,p.E)(),{experience:V}=(0,u.Ow)(1000310),{checkExperiment:U}=(0,m.F)(),{experience:x}=(0,u.Ow)(12),O=(0,y.Z)(),P=(0,t.I0)(),N=(0,c.ZP)(),Z=(0,f.Z)(),j=(0,n.useRef)(!1),{pins:q,clear:$}=(0,h.Z)(),Q=(0,b.M0)().getItem(s.M8)||"",z=Q?Q===C.id:!!q&&q.length>0&&q[q.length-1].id===C.id;(0,k.Z)(()=>{j.current||2!==q.length&&(1!==q.length||z)||(j.current=!0,(2===q.length&&!Q&&z?[q[0]]:q).forEach(({id:e,nodeId:a})=>{(0,o.Z)({description:"",entityId:e,link:"",promotedIsRemovable:void 0,title:""},N).then(l=>{let{id:n,url:t,name:r}=l;P((0,I.d)({boardId:n,url:t,title:r||"",pinId:e||"",nodeId:a}))})}),z||$())});let G=Z.isAuth&&U("web_curation_brv_navigate_to_board_from_closeup").anyEnabled,H=()=>{(0,b.M0)().removeItem(s.M8),(0,b.M0)().removeItem(s.RD),$(),O({action:"trigger",item:"unauth-save-button-quicksave"}),P((0,K.hT)(!0)),P((0,I.d)({boardId:"",url:"",title:"Profile",pinId:C.id,nodeId:C?.node_id})),P((0,I.X)(C))},J=()=>{B&&B.markConstraintComplete("button")};if(C?.pinner?.blocked_by_me||C?.promoted_is_removable)return(0,E.jsx)(_,{constraint:"button"});if(V&&502450===V.experience_id)return(0,E.jsx)(d.Z,{name:"SafeSuspense_SaveAffordance_QuickSaveButton",children:(0,E.jsx)(g.Z,{children:(0,E.jsx)(S,{autoQuicksaveCallback:H,clientTrackingParams:a,experience:V,onClickCallback:D,onMount:J,pinKey:{type:"deprecated",data:C},shouldAutoQuicksave:z,showEnabledSaveBehavior:L,viewParameter:M})})});let W=!C.content_sensitivity?.is_sensitive_content&&void 0!==e,X=[501041],Y=x&&501041===x.experience_id&&x.display_data.has_tooltip?e=>(0,E.jsx)(u.Qp,{anchor:e,experienceIds:X,idealDirection:"down",placementId:12,positionRelativeToAnchor:!0,showCaret:!0}):e=>(0,E.jsx)(u.N,{anchors:{3010:e},idealDirection:"down",onAnchorTouch:"complete",placementId:12,scrollToDismiss:!0});return W?(0,E.jsx)(r.xu,{children:(0,E.jsx)(d.Z,{name:"SafeSuspense_SaveAffordance_PinBetterSave",children:(0,E.jsx)(v.default,{autoQuicksaveCallback:H,clientTrackingParams:a,fromEggsBoard:l,onClickCallback:D,onMount:J,onToggleFlyout:F,pinKey:{type:"deprecated",data:C},renderPinSaveTooltip:Y,renderSavedStatus:G?({savedInfo:e,showBoardFlyout:a,handleBoardDropdownClick:l})=>(0,E.jsx)(i.Z,{accessibilityLabel:N.bt("Selecciona el tablero en el que deseas guardar", "Select a board you want to save to", "Closeup.BoardSelection.SplitSaveButton", undefined, true),isSaved:!0,onClick:l,showBoardFlyout:a,title:e.title||"",url:e.url||""}):void 0,shouldAutoQuicksave:z,variant:R,viewParameter:M,viewType:w})})}):(0,E.jsx)(d.Z,{name:"SafeSuspense_SaveAffordance_PinSaveButton",children:(0,E.jsx)(g.Z,{children:(0,E.jsx)(T,{clientTrackingParams:a,isCloseupPin:!0,onClickCallback:D,onMount:J,pinKey:{type:"deprecated",data:C},renderPinSaveTooltip:Y,showRepinOnInitialRender:A})})})}},360307:(e,a,l)=>{l.d(a,{Z:()=>r});let n=function(e,a){this.uid=e,this.item=a,this.next=null,this.prev=null},t=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};t.prototype.set=function(e,a){let l=this._uidToData[e];l||(l=new n(e,a),this._uidToData[e]=l,this._numItems+=1),this._moveToFront(l),this._numItems>this._maxNumItems&&this._evict()},t.prototype.get=function(e){let a=this._uidToData[e];return a?(this._moveToFront(a),a.item):null},t.prototype.remove=function(e){let a=this._uidToData[e];a&&(delete this._uidToData[e],this._firstData===a&&(this._firstData=a.next),this._lastData===a&&(this._lastData=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),this._numItems-=1)},t.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},t.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};let r=t},456082:(e,a,l)=>{l.d(a,{i:()=>t,x:()=>r});var n=l(267005);let t=["shopping_rec_disabled","featureMap","comments_disabled","allow_mentions","messaging_permissions","opt_in_private_account","ads_customize_from_conversion","personalize_from_offsite_browsing","third_party_marketing_tracking_enabled","ccpa_opted_out","third_party_ads_personalization","video_rec_enabled"];function r({apiErrorCode:e,onShowMessage:a,onPassCodeRequired:l,onPassCodeSkipConfirmation:t}){e&&(({[n.RR]:a,[n.mX]:l,[n.q6]:t})[e]||a)()}},278762:(e,a,l)=>{l.d(a,{Z:()=>t});var n=l(252071);let t=e=>n.Z.create("UserPasswordResource",e).callUpdate({showError:!1})},89934:(e,a,l)=>{l.d(a,{Z:()=>r});var n=l(667294),t=l(961414);function r({allowSearchOnMount:e,children:a,onTypeaheadSuggestionsChange:l,resourceName:r,resourceOptions:i,value:o}){let s=(0,t.Z)({allowSearchOnMount:e,resourceName:r,resourceOptions:i,value:o});return(0,n.useEffect)(()=>{s?.length&&l(s)},[s]),a||null}},961414:(e,a,l)=>{l.d(a,{Z:()=>i});var n=l(667294),t=l(360307),r=l(465848);function i({allowSearchOnMount:e=!1,resourceName:a,resourceOptions:l={},value:i}){let o=(0,n.useRef)(!1),s=(0,n.useRef)({}),[d,u]=(0,n.useState)([]),c=function({resourceName:e,resourceOptions:a}){let l=(0,r.vL)(),i=(0,n.useRef)();return i.current||(i.current=function({resourceCreator:e,resourceName:a,resourceOptions:l}){let n=e(a,{...l,count:"count"in l?l.count:5}),r=new t.Z,i=()=>{n.abort()},o=async(e,a)=>{if(n.isCalling()){let l=n.options?.term,t=n.options?.pin_scope;if(e===l&&a===t)return;i()}let{bookmarks:l,...t}=n.options||{};n.options={...t,term:e,pin_scope:a};let{data:o}=(await n.callGet({showError:!1})).resource_response,s=o?.items,d=o?.hint||{};return r.set(`${a}-${e}`,{hint:d,items:s}),{term:e,items:s,hint:d}};return async function(e,a){let l=r.get(`${a}-${e}`);if(l){let{items:a}=l;if(a&&a.length){i();let{hint:n}=l;return{hint:n,items:a,term:e}}}return e.length>=0?o(e,a):{hint:{},items:[],term:e}}}({resourceCreator:l,resourceName:e,resourceOptions:a})),i.current}({resourceName:a,resourceOptions:l}),m=l.pin_scope||"pins",p=`${m}-${i}`;return(0,n.useEffect)(()=>{(async()=>{if(null!=i&&""!==i&&(e||o.current)){if(p in s.current)u(s.current[p]);else try{let e=await c(i,m);if(e){let{items:a}=e;s.current[p]=a,u(a)}}catch(e){if("Resource call aborted"===e)return;throw e}}o.current||(o.current=!0)})()},[i,m,p]),d}},360410:(e,a,l)=>{l.d(a,{Z:()=>t});let n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,t=e=>n.test(e)},897791:(e,a,l)=>{l.d(a,{$:()=>o,Z:()=>u});var n=l(609326),t=l(192820),r=l(864723),i=l(166408);let o=2,s=e=>e?.pins??[],d=e=>e.length?{pins:e}:null,u=()=>{let e=(0,r.M0)(),a=s(e.accessAllowed?e.getItem(n.s1):i.ZP.getItem(t.w3)),l=a=>e.accessAllowed?e.setItem(n.s1,d(a)):i.ZP.setItem(t.w3,d(a)),u=()=>a.length<o;return{pins:a,save:e=>{u()&&l(a.filter(({id:a})=>a!==e.id).concat([e]))},unsave:e=>l(a.filter(({id:a})=>a!==e)),isSaved:e=>a.some(({id:a})=>a===e),clear:()=>l([]),canSaveMore:u}}},332322:(e,a,l)=>{l.d(a,{A8:()=>v,CQ:()=>T,Cf:()=>k,DK:()=>g,GJ:()=>E,RZ:()=>h,SD:()=>I,aN:()=>S,h6:()=>y,tV:()=>F,xx:()=>f,yC:()=>D,zC:()=>b});var n,t,r,i,o,s,d,u=l(545007),c=l(167912),m=l(252071),p=l(573706),_=l(400416);let g=()=>{let e=void 0!==n?n:n=l(956189),[a]=(0,c.useMutation)(e),{logContextEvent:t}=(0,p.v)();return async(e,l,n)=>{let r={boardId:e,collaboratorIds:l,message:n||""};return await new Promise((l,n)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&n(r[0]),t({event_type:28,object_id_str:e}),l()},onError:e=>n(e)})})}},b=()=>{let e=void 0!==t?t:t=l(82107),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.v)();return async(e,l,t)=>{let r={boardId:e,emails:l,message:t||""};return await new Promise((l,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),n({event_type:28,object_id_str:e}),l()},onError:e=>t(e)})})}},y=()=>{let e=void 0!==r?r:r=l(415212),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.v)();return async(e,l)=>{let t={boardId:e,userId:l};return await new Promise((l,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),n({event_type:32,object_id_str:e}),l(a)},onError:e=>r(e)})})}};function k(e,a){return async l=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:a}})}}function f(e,a){return async l=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:a}}),l({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let v=(e,a)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:a}}),h=()=>{let e=void 0!==i?i:i=l(890330),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.v)();return async e=>{let l={boardId:e};return await new Promise((t,r)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&r(l[0]),n({event_type:32,object_id_str:e}),t(a)},onError:e=>r(e)})})}},I=(e,a,l)=>async n=>{n(v(e,a)),(await m.Z.create("BoardInviteResource",{board_id:e,invited_user_id:a.id}).callUpdate()).resource_response.error||l({event_type:32,object_id_str:e})};function K(e,a){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:a}}}let F=()=>{let e=void 0!==o?o:o=l(643547),[a]=(0,c.useMutation)(e),n=(0,u.I0)();return async e=>{let l={boardId:e};return await new Promise((t,r)=>{a({variables:{...l},onCompleted:(a,l)=>{l&&(n(K(e,!1)),r(l[0])),n(K(e,!0)),t(a)},onError:a=>{n(K(e,!1)),r(a)}})})}};function E(e,a){return l=>{(0,_.Z)({url:`/v3/boards/${e}/collaborators/request/${a}/`,method:"DELETE",data:{board:e,user:a}}).catch(()=>{l(K(e,!0))}),l(K(e,!1))}}let T=()=>{let e=void 0!==s?s:s=l(501109),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.v)();return async(e,l,t)=>{let r={boardId:e,userId:l,ban:!!t&&t};return await new Promise((l,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),n({event_type:29,object_id_str:e}),l(a)},onError:e=>t(e)})})}},S=()=>{let e=void 0!==d?d:d=l(129502),[a]=(0,c.useMutation)(e),{logContextEvent:n}=(0,p.v)();return async(e,l)=>{let t={board:e,collaboratorIds:[l]};return await new Promise((l,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),n({event_type:29,object_id_str:e}),l(a)},onError:e=>r(e)})})}},D=()=>{let e=T(),a=S();return(l,n,t)=>async()=>{let{invited_user:n,status:r,board:{id:i}}=l;n&&("accepted"===r?await a(i,n.id):await e(i,n.id,t))}}},345020:(e,a,l)=>{l.d(a,{Cp:()=>g,GT:()=>d,V6:()=>o,W2:()=>c,W6:()=>b,_L:()=>_,fm:()=>s,hT:()=>u});var n=l(252071),t=l(456082),r=l(278762),i=l(468808);function o(e,a){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:a}}}let s=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),d=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function u(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}let c=(e,a,l)=>n=>{n({type:"USER_SETTING_CHANGE",payload:{id:e,field:a,value:l}})},m=(e,a,l)=>n=>{n({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:a,value:l}})},p=e=>{let a=e.split(" ");return{first_name:a[0],last_name:a[1]}},_=({field:e,value:a,passcode:l,onSettingSavedHn:r,showErrorHn:o,surfaceTag:s,userId:d,passcodeSkipAcknowledged:u=!1,otp:_,onFinallyHn:g})=>async(b,y)=>{let k=y().users[d],f={user_id:d,surface_tag:s};if("full_name"===e){if(k.is_partner)f.business_name=a;else{let e=p(a);f.first_name=e.first_name,f.last_name=e.last_name||""}}else f[e]=a;l&&(f.passcode=l),t.i.includes(e)&&null!=u&&(f.user_confirm_skip_passcode=u),_&&(f.otp=_);try{let l=await n.Z.create("UserSettingsResource",f).callUpdate();if("email"===e&&l?.resource_response.data?.email_changing_to){o({email_changing_to:l.resource_response.data.email_changing_to});return}if("profile_image_url"===e)b((0,i.b)("UserResource",{options:f}));else if("full_name"===e){if(k.is_partner)b(c(d,"first_name",a));else{let e=p(a);b(c(d,"first_name",e.first_name)),b(c(d,"last_name",e.last_name))}}b(k.is_partner&&("account_type"===e||"contact_name"===e)?m(d,e,a):c(d,e,a)),r()}catch(e){o(e)}finally{g?.()}},g=(e,a,l,n,t,i,o)=>()=>{(0,r.Z)({new:a,new_confirm:l,old:e,passcode:n,recaptcha_v3_token:t}).then(i,o)},b=(e,a,l,t,r,i)=>o=>{o(c(e,`${a}.${l}`,t));let s={},d="EmailSettingsResource";void 0!==r?(s={section:a,option:l,value:t,od:r.od,user_id:r.user_id},d="UnsubEmailSettingsResource"):s={section:a,option:l,value:t},n.Z.create(d,s).callUpdate().then(i).catch(()=>o(c(e,`${a}.${l}`,!t)))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-common-react-components-closeup-CloseupBody-SaveAffordance.es_419-7a6d1def2a3d5afd.mjs.map